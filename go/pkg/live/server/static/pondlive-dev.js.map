{
  "version": 3,
  "sources": ["../../../../client/node_modules/@eleven-am/pondsocket-common/subjects/subject.js", "../../../../client/node_modules/@eleven-am/pondsocket-common/subjects/behaviorSubject.js", "../../../../client/node_modules/@eleven-am/pondsocket-common/subjects/index.js", "../../../../client/node_modules/@eleven-am/pondsocket-common/enums.js", "../../../../client/node_modules/@eleven-am/pondsocket-common/misc/uuid.js", "../../../../client/node_modules/@eleven-am/pondsocket-common/misc/types.js", "../../../../client/node_modules/@eleven-am/pondsocket-common/misc/index.js", "../../../../client/node_modules/@eleven-am/pondsocket-common/schema.js", "../../../../client/node_modules/@eleven-am/pondsocket-common/index.js", "../../../../client/node_modules/@eleven-am/pondsocket-client/core/channel.js", "../../../../client/node_modules/@eleven-am/pondsocket-client/browser/client.js", "../../../../client/node_modules/es5-ext/global.js", "../../../../client/node_modules/websocket/package.json", "../../../../client/node_modules/websocket/lib/version.js", "../../../../client/node_modules/websocket/lib/browser.js", "../../../../client/node_modules/@eleven-am/pondsocket-client/node/node.js", "../../../../client/node_modules/@eleven-am/pondsocket-client/index.js", "../../../../client/src/index.ts", "../../../../client/src/transport.ts", "../../../../client/src/logger.ts", "../../../../client/src/patcher.ts", "../../../../client/src/router.ts", "../../../../client/src/uploader.ts", "../../../../client/src/effects.ts", "../../../../client/src/runtime.ts"],
  "sourcesContent": ["\"use strict\";\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Subject_isClosed, _Subject_observers;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Subject = void 0;\nclass Subject {\n    constructor() {\n        _Subject_isClosed.set(this, void 0);\n        _Subject_observers.set(this, void 0);\n        __classPrivateFieldSet(this, _Subject_isClosed, false, \"f\");\n        __classPrivateFieldSet(this, _Subject_observers, new Set(), \"f\");\n    }\n    /**\n     * @desc Returns the number of subscribers\n     */\n    get size() {\n        return __classPrivateFieldGet(this, _Subject_observers, \"f\").size;\n    }\n    /**\n     * @desc Subscribes to a subject\n     * @param observer - The observer to subscribe\n     */\n    subscribe(observer) {\n        if (__classPrivateFieldGet(this, _Subject_isClosed, \"f\")) {\n            throw new Error('Cannot subscribe to a closed subject');\n        }\n        __classPrivateFieldGet(this, _Subject_observers, \"f\").add(observer);\n        return () => __classPrivateFieldGet(this, _Subject_observers, \"f\").delete(observer);\n    }\n    /**\n     * @desc Publishes a message to all subscribers\n     * @param message - The message to publish\n     */\n    publish(message) {\n        __classPrivateFieldGet(this, _Subject_observers, \"f\").forEach((observer) => observer(message));\n    }\n    /**\n     * @desc Closes the subject\n     */\n    close() {\n        __classPrivateFieldGet(this, _Subject_observers, \"f\").clear();\n        __classPrivateFieldSet(this, _Subject_isClosed, true, \"f\");\n    }\n}\nexports.Subject = Subject;\n_Subject_isClosed = new WeakMap(), _Subject_observers = new WeakMap();\n", "\"use strict\";\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _BehaviorSubject_lastMessage;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BehaviorSubject = void 0;\nconst subject_1 = require(\"./subject\");\nclass BehaviorSubject extends subject_1.Subject {\n    constructor(initialValue) {\n        super();\n        _BehaviorSubject_lastMessage.set(this, void 0);\n        __classPrivateFieldSet(this, _BehaviorSubject_lastMessage, initialValue, \"f\");\n    }\n    /**\n     * @desc Returns the last message published\n     */\n    get value() {\n        return __classPrivateFieldGet(this, _BehaviorSubject_lastMessage, \"f\");\n    }\n    /**\n     * @desc Publishes a message to all subscribers\n     * @param message - The message to publish\n     */\n    publish(message) {\n        __classPrivateFieldSet(this, _BehaviorSubject_lastMessage, message, \"f\");\n        super.publish(message);\n    }\n    /**\n     * @desc Subscribes to a subject\n     * @param observer - The observer to subscribe\n     */\n    subscribe(observer) {\n        if (__classPrivateFieldGet(this, _BehaviorSubject_lastMessage, \"f\")) {\n            observer(__classPrivateFieldGet(this, _BehaviorSubject_lastMessage, \"f\"));\n        }\n        return super.subscribe(observer);\n    }\n}\nexports.BehaviorSubject = BehaviorSubject;\n_BehaviorSubject_lastMessage = new WeakMap();\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./behaviorSubject\"), exports);\n__exportStar(require(\"./subject\"), exports);\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PubSubEvents = exports.Events = exports.ChannelReceiver = exports.SystemSender = exports.ErrorTypes = exports.ChannelState = exports.ClientActions = exports.ServerActions = exports.PresenceEventTypes = void 0;\nvar PresenceEventTypes;\n(function (PresenceEventTypes) {\n    PresenceEventTypes[\"JOIN\"] = \"JOIN\";\n    PresenceEventTypes[\"LEAVE\"] = \"LEAVE\";\n    PresenceEventTypes[\"UPDATE\"] = \"UPDATE\";\n})(PresenceEventTypes || (exports.PresenceEventTypes = PresenceEventTypes = {}));\nvar ServerActions;\n(function (ServerActions) {\n    ServerActions[\"PRESENCE\"] = \"PRESENCE\";\n    ServerActions[\"SYSTEM\"] = \"SYSTEM\";\n    ServerActions[\"BROADCAST\"] = \"BROADCAST\";\n    ServerActions[\"ERROR\"] = \"ERROR\";\n    ServerActions[\"CONNECT\"] = \"CONNECT\";\n})(ServerActions || (exports.ServerActions = ServerActions = {}));\nvar ClientActions;\n(function (ClientActions) {\n    ClientActions[\"JOIN_CHANNEL\"] = \"JOIN_CHANNEL\";\n    ClientActions[\"LEAVE_CHANNEL\"] = \"LEAVE_CHANNEL\";\n    ClientActions[\"BROADCAST\"] = \"BROADCAST\";\n})(ClientActions || (exports.ClientActions = ClientActions = {}));\nvar ChannelState;\n(function (ChannelState) {\n    ChannelState[\"IDLE\"] = \"IDLE\";\n    ChannelState[\"JOINING\"] = \"JOINING\";\n    ChannelState[\"JOINED\"] = \"JOINED\";\n    ChannelState[\"STALLED\"] = \"STALLED\";\n    ChannelState[\"CLOSED\"] = \"CLOSED\";\n})(ChannelState || (exports.ChannelState = ChannelState = {}));\nvar ErrorTypes;\n(function (ErrorTypes) {\n    ErrorTypes[\"UNAUTHORIZED_CONNECTION\"] = \"UNAUTHORIZED_CONNECTION\";\n    ErrorTypes[\"UNAUTHORIZED_JOIN_REQUEST\"] = \"UNAUTHORIZED_JOIN_REQUEST\";\n    ErrorTypes[\"UNAUTHORIZED_BROADCAST\"] = \"UNAUTHORIZED_BROADCAST\";\n    ErrorTypes[\"INVALID_MESSAGE\"] = \"INVALID_MESSAGE\";\n    ErrorTypes[\"HANDLER_NOT_FOUND\"] = \"HANDLER_NOT_FOUND\";\n    ErrorTypes[\"PRESENCE_ERROR\"] = \"PRESENCE_ERROR\";\n    ErrorTypes[\"CHANNEL_ERROR\"] = \"CHANNEL_ERROR\";\n    ErrorTypes[\"ENDPOINT_ERROR\"] = \"ENDPOINT_ERROR\";\n    ErrorTypes[\"INTERNAL_SERVER_ERROR\"] = \"INTERNAL_SERVER_ERROR\";\n})(ErrorTypes || (exports.ErrorTypes = ErrorTypes = {}));\nvar SystemSender;\n(function (SystemSender) {\n    SystemSender[\"ENDPOINT\"] = \"ENDPOINT\";\n    SystemSender[\"CHANNEL\"] = \"CHANNEL\";\n})(SystemSender || (exports.SystemSender = SystemSender = {}));\nvar ChannelReceiver;\n(function (ChannelReceiver) {\n    ChannelReceiver[\"ALL_USERS\"] = \"ALL_USERS\";\n    ChannelReceiver[\"ALL_EXCEPT_SENDER\"] = \"ALL_EXCEPT_SENDER\";\n})(ChannelReceiver || (exports.ChannelReceiver = ChannelReceiver = {}));\nvar Events;\n(function (Events) {\n    Events[\"ACKNOWLEDGE\"] = \"ACKNOWLEDGE\";\n    Events[\"CONNECTION\"] = \"CONNECTION\";\n})(Events || (exports.Events = Events = {}));\nvar PubSubEvents;\n(function (PubSubEvents) {\n    PubSubEvents[\"MESSAGE\"] = \"MESSAGE\";\n    PubSubEvents[\"PRESENCE\"] = \"PRESENCE\";\n    PubSubEvents[\"GET_PRESENCE\"] = \"GET_PRESENCE\";\n})(PubSubEvents || (exports.PubSubEvents = PubSubEvents = {}));\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.uuid = uuid;\nfunction uuid() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'\n        .replace(/[xy]/g, (c) => {\n        const r = Math.random() * 16 | 0;\n        const v = c === 'x' ? r : (r & 0x3 | 0x8);\n        return v.toString(16);\n    });\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./uuid\"), exports);\n__exportStar(require(\"./types\"), exports);\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.channelEventSchema = exports.serverMessageSchema = exports.presenceMessageSchema = exports.clientMessageSchema = exports.ValidationError = void 0;\nconst enums_1 = require(\"./enums\");\n// ============================================================================\n// Validation Error\n// ============================================================================\nclass ValidationError extends Error {\n    constructor(message, path) {\n        super(path ? `${path}: ${message}` : message);\n        this.path = path;\n        this.name = 'ValidationError';\n    }\n}\nexports.ValidationError = ValidationError;\n// ============================================================================\n// Validation Utilities\n// ============================================================================\nfunction isObject(value) {\n    return typeof value === 'object' && value !== null && !Array.isArray(value);\n}\nfunction isString(value) {\n    return typeof value === 'string';\n}\nfunction isArray(value) {\n    return Array.isArray(value);\n}\nfunction isRecord(value) {\n    if (!isObject(value)) {\n        return false;\n    }\n    return Object.keys(value)\n        .every((key) => typeof key === 'string');\n}\nfunction validateString(value, fieldName) {\n    if (!isString(value)) {\n        throw new ValidationError(`Expected string, got ${typeof value}`, fieldName);\n    }\n}\nfunction validateObject(value, fieldName) {\n    if (!isObject(value)) {\n        throw new ValidationError(`Expected object, got ${typeof value}`, fieldName);\n    }\n}\nfunction validateRecord(value, fieldName) {\n    if (!isRecord(value)) {\n        throw new ValidationError(`Expected record with string keys, got ${typeof value}`, fieldName);\n    }\n}\nfunction validateArray(value, fieldName) {\n    if (!isArray(value)) {\n        throw new ValidationError(`Expected array, got ${typeof value}`, fieldName);\n    }\n}\nfunction validateEnum(value, enumObj, fieldName) {\n    const validValues = Object.values(enumObj);\n    if (!validValues.includes(value)) {\n        throw new ValidationError(`Expected one of [${validValues.join(', ')}], got ${JSON.stringify(value)}`, fieldName);\n    }\n}\n// ============================================================================\n// Schema Validators\n// ============================================================================\nexports.clientMessageSchema = {\n    parse(data) {\n        validateObject(data, 'clientMessage');\n        const obj = data;\n        // Validate required fields\n        if (!('event' in obj)) {\n            throw new ValidationError('Missing required field', 'event');\n        }\n        if (!('requestId' in obj)) {\n            throw new ValidationError('Missing required field', 'requestId');\n        }\n        if (!('channelName' in obj)) {\n            throw new ValidationError('Missing required field', 'channelName');\n        }\n        if (!('payload' in obj)) {\n            throw new ValidationError('Missing required field', 'payload');\n        }\n        if (!('action' in obj)) {\n            throw new ValidationError('Missing required field', 'action');\n        }\n        // Validate types\n        validateString(obj.event, 'event');\n        validateString(obj.requestId, 'requestId');\n        validateString(obj.channelName, 'channelName');\n        validateRecord(obj.payload, 'payload');\n        validateEnum(obj.action, enums_1.ClientActions, 'action');\n        return {\n            event: obj.event,\n            requestId: obj.requestId,\n            channelName: obj.channelName,\n            payload: obj.payload,\n            action: obj.action,\n        };\n    },\n};\nexports.presenceMessageSchema = {\n    parse(data) {\n        validateObject(data, 'presenceMessage');\n        const obj = data;\n        // Validate required fields\n        if (!('requestId' in obj)) {\n            throw new ValidationError('Missing required field', 'requestId');\n        }\n        if (!('channelName' in obj)) {\n            throw new ValidationError('Missing required field', 'channelName');\n        }\n        if (!('event' in obj)) {\n            throw new ValidationError('Missing required field', 'event');\n        }\n        if (!('action' in obj)) {\n            throw new ValidationError('Missing required field', 'action');\n        }\n        if (!('payload' in obj)) {\n            throw new ValidationError('Missing required field', 'payload');\n        }\n        // Validate types\n        validateString(obj.requestId, 'requestId');\n        validateString(obj.channelName, 'channelName');\n        validateEnum(obj.event, enums_1.PresenceEventTypes, 'event');\n        // Validate action is exactly PRESENCE\n        if (obj.action !== enums_1.ServerActions.PRESENCE) {\n            throw new ValidationError(`Expected ${enums_1.ServerActions.PRESENCE}, got ${JSON.stringify(obj.action)}`, 'action');\n        }\n        // Validate payload structure\n        validateObject(obj.payload, 'payload');\n        const payload = obj.payload;\n        if (!('presence' in payload)) {\n            throw new ValidationError('Missing required field', 'payload.presence');\n        }\n        if (!('changed' in payload)) {\n            throw new ValidationError('Missing required field', 'payload.changed');\n        }\n        validateArray(payload.presence, 'payload.presence');\n        // Validate each presence item is a record\n        payload.presence.forEach((item, index) => {\n            validateRecord(item, `payload.presence[${index}]`);\n        });\n        validateRecord(payload.changed, 'payload.changed');\n        return {\n            requestId: obj.requestId,\n            channelName: obj.channelName,\n            event: obj.event,\n            action: enums_1.ServerActions.PRESENCE,\n            payload: {\n                presence: payload.presence,\n                changed: payload.changed,\n            },\n        };\n    },\n};\nexports.serverMessageSchema = {\n    parse(data) {\n        validateObject(data, 'serverMessage');\n        const obj = data;\n        // Validate required fields\n        if (!('event' in obj)) {\n            throw new ValidationError('Missing required field', 'event');\n        }\n        if (!('requestId' in obj)) {\n            throw new ValidationError('Missing required field', 'requestId');\n        }\n        if (!('channelName' in obj)) {\n            throw new ValidationError('Missing required field', 'channelName');\n        }\n        if (!('payload' in obj)) {\n            throw new ValidationError('Missing required field', 'payload');\n        }\n        if (!('action' in obj)) {\n            throw new ValidationError('Missing required field', 'action');\n        }\n        // Validate types\n        validateString(obj.event, 'event');\n        validateString(obj.requestId, 'requestId');\n        validateString(obj.channelName, 'channelName');\n        validateRecord(obj.payload, 'payload');\n        // Validate action is one of the allowed server actions\n        const validActions = [\n            enums_1.ServerActions.BROADCAST,\n            enums_1.ServerActions.CONNECT,\n            enums_1.ServerActions.ERROR,\n            enums_1.ServerActions.SYSTEM,\n        ];\n        if (!validActions.includes(obj.action)) {\n            throw new ValidationError(`Expected one of [${validActions.join(', ')}], got ${JSON.stringify(obj.action)}`, 'action');\n        }\n        return {\n            event: obj.event,\n            requestId: obj.requestId,\n            channelName: obj.channelName,\n            payload: obj.payload,\n            action: obj.action,\n        };\n    },\n};\nexports.channelEventSchema = {\n    parse(data) {\n        validateObject(data, 'channelEvent');\n        const obj = data;\n        // Check action to determine which schema to use\n        if (!('action' in obj)) {\n            throw new ValidationError('Missing required field', 'action');\n        }\n        // Discriminate based on action field\n        if (obj.action === enums_1.ServerActions.PRESENCE) {\n            return exports.presenceMessageSchema.parse(data);\n        }\n        return exports.serverMessageSchema.parse(data);\n    },\n};\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./subjects\"), exports);\n__exportStar(require(\"./enums\"), exports);\n__exportStar(require(\"./misc\"), exports);\n__exportStar(require(\"./schema\"), exports);\n", "\"use strict\";\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Channel_instances, _Channel_name, _Channel_queue, _Channel_presence, _Channel_presenceSub, _Channel_publisher, _Channel_joinParams, _Channel_receiver, _Channel_clientState, _Channel_joinState, _Channel_emptyQueue, _Channel_init, _Channel_onMessage, _Channel_publish, _Channel_subscribeToPresence;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Channel = void 0;\nconst pondsocket_common_1 = require(\"@eleven-am/pondsocket-common\");\nclass Channel {\n    constructor(publisher, clientState, name, params) {\n        _Channel_instances.add(this);\n        _Channel_name.set(this, void 0);\n        _Channel_queue.set(this, void 0);\n        _Channel_presence.set(this, void 0);\n        _Channel_presenceSub.set(this, void 0);\n        _Channel_publisher.set(this, void 0);\n        _Channel_joinParams.set(this, void 0);\n        _Channel_receiver.set(this, void 0);\n        _Channel_clientState.set(this, void 0);\n        _Channel_joinState.set(this, void 0);\n        __classPrivateFieldSet(this, _Channel_name, name, \"f\");\n        __classPrivateFieldSet(this, _Channel_queue, [], \"f\");\n        __classPrivateFieldSet(this, _Channel_presence, [], \"f\");\n        __classPrivateFieldSet(this, _Channel_joinParams, params, \"f\");\n        __classPrivateFieldSet(this, _Channel_publisher, publisher, \"f\");\n        __classPrivateFieldSet(this, _Channel_clientState, clientState, \"f\");\n        __classPrivateFieldSet(this, _Channel_receiver, new pondsocket_common_1.Subject(), \"f\");\n        __classPrivateFieldSet(this, _Channel_joinState, new pondsocket_common_1.BehaviorSubject(pondsocket_common_1.ChannelState.IDLE), \"f\");\n        __classPrivateFieldSet(this, _Channel_presenceSub, () => {\n            // do nothing\n        }, \"f\");\n    }\n    /**\n     * @desc Gets the current connection state of the channel.\n     */\n    get channelState() {\n        return __classPrivateFieldGet(this, _Channel_joinState, \"f\").value;\n    }\n    /**\n     * @desc Gets the current presence of the channel.\n     */\n    get presence() {\n        return __classPrivateFieldGet(this, _Channel_presence, \"f\");\n    }\n    /**\n     * @desc Acknowledges the channel has been joined on the server.\n     * @param receiver - The receiver to subscribe to.\n     */\n    acknowledge(receiver) {\n        __classPrivateFieldGet(this, _Channel_joinState, \"f\").publish(pondsocket_common_1.ChannelState.JOINED);\n        __classPrivateFieldGet(this, _Channel_instances, \"m\", _Channel_init).call(this, receiver);\n        __classPrivateFieldGet(this, _Channel_instances, \"m\", _Channel_emptyQueue).call(this);\n    }\n    /**\n     * @desc Connects to the channel.\n     */\n    join() {\n        const message = {\n            action: pondsocket_common_1.ClientActions.JOIN_CHANNEL,\n            event: pondsocket_common_1.ClientActions.JOIN_CHANNEL,\n            payload: __classPrivateFieldGet(this, _Channel_joinParams, \"f\"),\n            channelName: __classPrivateFieldGet(this, _Channel_name, \"f\"),\n            requestId: (0, pondsocket_common_1.uuid)(),\n        };\n        if (__classPrivateFieldGet(this, _Channel_joinState, \"f\").value === pondsocket_common_1.ChannelState.JOINED) {\n            return;\n        }\n        __classPrivateFieldGet(this, _Channel_joinState, \"f\").publish(pondsocket_common_1.ChannelState.JOINING);\n        if (__classPrivateFieldGet(this, _Channel_clientState, \"f\").value) {\n            __classPrivateFieldGet(this, _Channel_publisher, \"f\").call(this, message);\n        }\n        else {\n            const unsubscribe = __classPrivateFieldGet(this, _Channel_clientState, \"f\").subscribe((state) => {\n                if (state) {\n                    unsubscribe();\n                    if (__classPrivateFieldGet(this, _Channel_joinState, \"f\").value === pondsocket_common_1.ChannelState.JOINING) {\n                        __classPrivateFieldGet(this, _Channel_publisher, \"f\").call(this, message);\n                    }\n                }\n            });\n        }\n    }\n    /**\n     * @desc Disconnects from the channel.\n     */\n    leave() {\n        const message = {\n            action: pondsocket_common_1.ClientActions.LEAVE_CHANNEL,\n            event: pondsocket_common_1.ClientActions.LEAVE_CHANNEL,\n            channelName: __classPrivateFieldGet(this, _Channel_name, \"f\"),\n            requestId: (0, pondsocket_common_1.uuid)(),\n            payload: {},\n        };\n        __classPrivateFieldGet(this, _Channel_instances, \"m\", _Channel_publish).call(this, message);\n        __classPrivateFieldGet(this, _Channel_joinState, \"f\").publish(pondsocket_common_1.ChannelState.CLOSED);\n        __classPrivateFieldGet(this, _Channel_presenceSub, \"f\").call(this);\n    }\n    /**\n     * @desc Monitors the channel state of the channel.\n     * @param callback - The callback to call when the connection state changes.\n     */\n    onChannelStateChange(callback) {\n        return __classPrivateFieldGet(this, _Channel_joinState, \"f\").subscribe((data) => {\n            callback(data);\n        });\n    }\n    /**\n     * @desc Detects when clients join the channel.\n     * @param callback - The callback to call when a client joins the channel.\n     */\n    onJoin(callback) {\n        return __classPrivateFieldGet(this, _Channel_instances, \"m\", _Channel_subscribeToPresence).call(this, (event, payload) => {\n            if (event === pondsocket_common_1.PresenceEventTypes.JOIN) {\n                return callback(payload.changed);\n            }\n        });\n    }\n    /**\n     * @desc Detects when clients leave the channel.\n     * @param callback - The callback to call when a client leaves the channel.\n     */\n    onLeave(callback) {\n        return __classPrivateFieldGet(this, _Channel_instances, \"m\", _Channel_subscribeToPresence).call(this, (event, payload) => {\n            if (event === pondsocket_common_1.PresenceEventTypes.LEAVE) {\n                return callback(payload.changed);\n            }\n        });\n    }\n    /**\n     * @desc Monitors the channel for messages.\n     * @param callback - The callback to call when a message is received.\n     */\n    onMessage(callback) {\n        return __classPrivateFieldGet(this, _Channel_instances, \"m\", _Channel_onMessage).call(this, (event, message) => {\n            callback(event, message);\n        });\n    }\n    /**\n     * @desc Monitors the channel for messages.\n     * @param event - The event to monitor.\n     * @param callback - The callback to call when a message is received.\n     */\n    onMessageEvent(event, callback) {\n        return this.onMessage((eventReceived, message) => {\n            if (eventReceived === event) {\n                return callback(message);\n            }\n        });\n    }\n    /**\n     * @desc Detects when clients change their presence in the channel.\n     * @param callback - The callback to call when a client changes their presence in the channel.\n     */\n    onPresenceChange(callback) {\n        return __classPrivateFieldGet(this, _Channel_instances, \"m\", _Channel_subscribeToPresence).call(this, (event, payload) => {\n            if (event === pondsocket_common_1.PresenceEventTypes.UPDATE) {\n                return callback(payload);\n            }\n        });\n    }\n    /**\n     * @desc Monitors the presence of the channel.\n     * @param callback - The callback to call when the presence changes.\n     */\n    onUsersChange(callback) {\n        return __classPrivateFieldGet(this, _Channel_instances, \"m\", _Channel_subscribeToPresence).call(this, (_event, payload) => callback(payload.presence));\n    }\n    /**\n     * @desc Sends a message to specific clients in the channel.\n     * @param event - The event to send.\n     * @param payload - The message to send.\n     */\n    sendMessage(event, payload) {\n        const requestId = (0, pondsocket_common_1.uuid)();\n        const message = {\n            action: pondsocket_common_1.ClientActions.BROADCAST,\n            channelName: __classPrivateFieldGet(this, _Channel_name, \"f\"),\n            requestId,\n            event,\n            payload,\n        };\n        __classPrivateFieldGet(this, _Channel_instances, \"m\", _Channel_publish).call(this, message);\n    }\n    /**\n     * @desc Sends a message to the server and waits for a response.\n     * @param sentEvent - The event to send.\n     * @param payload - The message to send.\n     */\n    sendForResponse(sentEvent, payload) {\n        const requestId = (0, pondsocket_common_1.uuid)();\n        return new Promise((resolve) => {\n            const unsub = __classPrivateFieldGet(this, _Channel_instances, \"m\", _Channel_onMessage).call(this, (_, message, responseId) => {\n                if (requestId === responseId) {\n                    resolve(message);\n                    unsub();\n                }\n            });\n            const message = {\n                action: pondsocket_common_1.ClientActions.BROADCAST,\n                channelName: __classPrivateFieldGet(this, _Channel_name, \"f\"),\n                requestId,\n                event: sentEvent,\n                payload,\n            };\n            __classPrivateFieldGet(this, _Channel_instances, \"m\", _Channel_publish).call(this, message);\n        });\n    }\n}\nexports.Channel = Channel;\n_Channel_name = new WeakMap(), _Channel_queue = new WeakMap(), _Channel_presence = new WeakMap(), _Channel_presenceSub = new WeakMap(), _Channel_publisher = new WeakMap(), _Channel_joinParams = new WeakMap(), _Channel_receiver = new WeakMap(), _Channel_clientState = new WeakMap(), _Channel_joinState = new WeakMap(), _Channel_instances = new WeakSet(), _Channel_emptyQueue = function _Channel_emptyQueue() {\n    __classPrivateFieldGet(this, _Channel_queue, \"f\")\n        .forEach((message) => __classPrivateFieldGet(this, _Channel_publisher, \"f\").call(this, message));\n    __classPrivateFieldSet(this, _Channel_queue, [], \"f\");\n}, _Channel_init = function _Channel_init(receiver) {\n    __classPrivateFieldGet(this, _Channel_presenceSub, \"f\").call(this);\n    const unsubMessages = receiver.subscribe((data) => {\n        if (data.channelName === __classPrivateFieldGet(this, _Channel_name, \"f\") && this.channelState === pondsocket_common_1.ChannelState.JOINED) {\n            __classPrivateFieldGet(this, _Channel_receiver, \"f\").publish(data);\n        }\n    });\n    const unsubStateChange = __classPrivateFieldGet(this, _Channel_clientState, \"f\").subscribe((state) => {\n        if (state && __classPrivateFieldGet(this, _Channel_joinState, \"f\").value === pondsocket_common_1.ChannelState.STALLED) {\n            const message = {\n                action: pondsocket_common_1.ClientActions.JOIN_CHANNEL,\n                event: pondsocket_common_1.ClientActions.JOIN_CHANNEL,\n                payload: __classPrivateFieldGet(this, _Channel_joinParams, \"f\"),\n                channelName: __classPrivateFieldGet(this, _Channel_name, \"f\"),\n                requestId: (0, pondsocket_common_1.uuid)(),\n            };\n            __classPrivateFieldGet(this, _Channel_publisher, \"f\").call(this, message);\n        }\n        else if (!state && __classPrivateFieldGet(this, _Channel_joinState, \"f\").value === pondsocket_common_1.ChannelState.JOINED) {\n            __classPrivateFieldGet(this, _Channel_joinState, \"f\").publish(pondsocket_common_1.ChannelState.STALLED);\n        }\n    });\n    const unsubPresence = __classPrivateFieldGet(this, _Channel_instances, \"m\", _Channel_subscribeToPresence).call(this, (_, payload) => {\n        __classPrivateFieldSet(this, _Channel_presence, payload.presence, \"f\");\n    });\n    __classPrivateFieldSet(this, _Channel_presenceSub, () => {\n        unsubMessages();\n        unsubStateChange();\n        unsubPresence();\n    }, \"f\");\n}, _Channel_onMessage = function _Channel_onMessage(callback) {\n    return __classPrivateFieldGet(this, _Channel_receiver, \"f\").subscribe((data) => {\n        if (data.action !== pondsocket_common_1.ServerActions.PRESENCE) {\n            return callback(data.event, data.payload, data.requestId);\n        }\n    });\n}, _Channel_publish = function _Channel_publish(data) {\n    if (__classPrivateFieldGet(this, _Channel_joinState, \"f\").value === pondsocket_common_1.ChannelState.JOINED) {\n        return __classPrivateFieldGet(this, _Channel_publisher, \"f\").call(this, data);\n    }\n    __classPrivateFieldGet(this, _Channel_queue, \"f\").push(data);\n}, _Channel_subscribeToPresence = function _Channel_subscribeToPresence(callback) {\n    return __classPrivateFieldGet(this, _Channel_receiver, \"f\").subscribe((data) => {\n        if (data.action === pondsocket_common_1.ServerActions.PRESENCE) {\n            return callback(data.event, data.payload);\n        }\n    });\n};\n", "\"use strict\";\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _PondClient_instances, _PondClient_channels, _PondClient_createPublisher, _PondClient_handleAcknowledge, _PondClient_init;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PondClient = void 0;\nconst pondsocket_common_1 = require(\"@eleven-am/pondsocket-common\");\nconst channel_1 = require(\"../core/channel\");\nclass PondClient {\n    constructor(endpoint, params = {}) {\n        _PondClient_instances.add(this);\n        _PondClient_channels.set(this, void 0);\n        let address;\n        try {\n            address = new URL(endpoint);\n        }\n        catch (e) {\n            address = new URL(window.location.toString());\n            address.pathname = endpoint;\n        }\n        this._disconnecting = false;\n        const query = new URLSearchParams(params);\n        address.search = query.toString();\n        const protocol = address.protocol === 'https:' ? 'wss:' : 'ws:';\n        if (address.protocol !== 'wss:' && address.protocol !== 'ws:') {\n            address.protocol = protocol;\n        }\n        this._address = address;\n        __classPrivateFieldSet(this, _PondClient_channels, new Map(), \"f\");\n        this._broadcaster = new pondsocket_common_1.Subject();\n        this._connectionState = new pondsocket_common_1.BehaviorSubject(false);\n        __classPrivateFieldGet(this, _PondClient_instances, \"m\", _PondClient_init).call(this);\n    }\n    /**\n     * @desc Connects to the server and returns the socket.\n     */\n    connect() {\n        this._disconnecting = false;\n        const socket = new WebSocket(this._address.toString());\n        socket.onmessage = (message) => {\n            const lines = message.data.trim().split('\\n');\n            for (const line of lines) {\n                if (line.trim()) {\n                    const data = JSON.parse(line);\n                    const event = pondsocket_common_1.channelEventSchema.parse(data);\n                    this._broadcaster.publish(event);\n                }\n            }\n        };\n        socket.onerror = () => socket.close();\n        socket.onclose = () => {\n            this._connectionState.publish(false);\n            if (this._disconnecting) {\n                return;\n            }\n            setTimeout(() => {\n                this.connect();\n            }, 1000);\n        };\n        this._socket = socket;\n    }\n    /**\n     * @desc Returns the current state of the socket.\n     */\n    getState() {\n        return this._connectionState.value;\n    }\n    /**\n     * @desc Disconnects the socket.\n     */\n    disconnect() {\n        var _a;\n        this._connectionState.publish(false);\n        this._disconnecting = true;\n        (_a = this._socket) === null || _a === void 0 ? void 0 : _a.close();\n        __classPrivateFieldGet(this, _PondClient_channels, \"f\").clear();\n    }\n    /**\n     * @desc Creates a channel with the given name and params.\n     * @param name - The name of the channel.\n     * @param params - The params to send to the server.\n     */\n    createChannel(name, params) {\n        const channel = __classPrivateFieldGet(this, _PondClient_channels, \"f\").get(name);\n        if (channel && channel.channelState !== pondsocket_common_1.ChannelState.CLOSED) {\n            return channel;\n        }\n        const publisher = __classPrivateFieldGet(this, _PondClient_instances, \"m\", _PondClient_createPublisher).call(this);\n        const newChannel = new channel_1.Channel(publisher, this._connectionState, name, params || {});\n        __classPrivateFieldGet(this, _PondClient_channels, \"f\").set(name, newChannel);\n        return newChannel;\n    }\n    /**\n     * @desc Subscribes to the connection state.\n     * @param callback - The callback to call when the state changes.\n     */\n    onConnectionChange(callback) {\n        return this._connectionState.subscribe(callback);\n    }\n}\nexports.PondClient = PondClient;\n_PondClient_channels = new WeakMap(), _PondClient_instances = new WeakSet(), _PondClient_createPublisher = function _PondClient_createPublisher() {\n    return (message) => {\n        if (this._connectionState.value) {\n            this._socket.send(JSON.stringify(message));\n        }\n    };\n}, _PondClient_handleAcknowledge = function _PondClient_handleAcknowledge(message) {\n    var _a;\n    const channel = (_a = __classPrivateFieldGet(this, _PondClient_channels, \"f\").get(message.channelName)) !== null && _a !== void 0 ? _a : new channel_1.Channel(__classPrivateFieldGet(this, _PondClient_instances, \"m\", _PondClient_createPublisher).call(this), this._connectionState, message.channelName, {});\n    __classPrivateFieldGet(this, _PondClient_channels, \"f\").set(message.channelName, channel);\n    channel.acknowledge(this._broadcaster);\n}, _PondClient_init = function _PondClient_init() {\n    this._broadcaster.subscribe((message) => {\n        if (message.event === pondsocket_common_1.Events.ACKNOWLEDGE) {\n            __classPrivateFieldGet(this, _PondClient_instances, \"m\", _PondClient_handleAcknowledge).call(this, message);\n        }\n        else if (message.event === pondsocket_common_1.Events.CONNECTION && message.action === pondsocket_common_1.ServerActions.CONNECT) {\n            this._connectionState.publish(true);\n        }\n    });\n};\n", "var naiveFallback = function () {\n\tif (typeof self === \"object\" && self) return self;\n\tif (typeof window === \"object\" && window) return window;\n\tthrow new Error(\"Unable to resolve global `this`\");\n};\n\nmodule.exports = (function () {\n\tif (this) return this;\n\n\t// Unexpected strict mode (may happen if e.g. bundled into ESM module)\n\n\t// Fallback to standard globalThis if available\n\tif (typeof globalThis === \"object\" && globalThis) return globalThis;\n\n\t// Thanks @mathiasbynens -> https://mathiasbynens.be/notes/globalthis\n\t// In all ES5+ engines global object inherits from Object.prototype\n\t// (if you approached one that doesn't please report)\n\ttry {\n\t\tObject.defineProperty(Object.prototype, \"__global__\", {\n\t\t\tget: function () { return this; },\n\t\t\tconfigurable: true\n\t\t});\n\t} catch (error) {\n\t\t// Unfortunate case of updates to Object.prototype being restricted\n\t\t// via preventExtensions, seal or freeze\n\t\treturn naiveFallback();\n\t}\n\ttry {\n\t\t// Safari case (window.__global__ works, but __global__ does not)\n\t\tif (!__global__) return naiveFallback();\n\t\treturn __global__;\n\t} finally {\n\t\tdelete Object.prototype.__global__;\n\t}\n})();\n", "{\n  \"name\": \"websocket\",\n  \"description\": \"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.\",\n  \"keywords\": [\n    \"websocket\",\n    \"websockets\",\n    \"socket\",\n    \"networking\",\n    \"comet\",\n    \"push\",\n    \"RFC-6455\",\n    \"realtime\",\n    \"server\",\n    \"client\"\n  ],\n  \"author\": \"Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)\",\n  \"contributors\": [\n    \"I\u00F1aki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)\"\n  ],\n  \"version\": \"1.0.35\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/theturtle32/WebSocket-Node.git\"\n  },\n  \"homepage\": \"https://github.com/theturtle32/WebSocket-Node\",\n  \"engines\": {\n    \"node\": \">=4.0.0\"\n  },\n  \"dependencies\": {\n    \"bufferutil\": \"^4.0.1\",\n    \"debug\": \"^2.2.0\",\n    \"es5-ext\": \"^0.10.63\",\n    \"typedarray-to-buffer\": \"^3.1.5\",\n    \"utf-8-validate\": \"^5.0.2\",\n    \"yaeti\": \"^0.0.6\"\n  },\n  \"devDependencies\": {\n    \"buffer-equal\": \"^1.0.0\",\n    \"gulp\": \"^4.0.2\",\n    \"gulp-jshint\": \"^2.0.4\",\n    \"jshint-stylish\": \"^2.2.1\",\n    \"jshint\": \"^2.0.0\",\n    \"tape\": \"^4.9.1\"\n  },\n  \"config\": {\n    \"verbose\": false\n  },\n  \"scripts\": {\n    \"test\": \"tape test/unit/*.js\",\n    \"gulp\": \"gulp\"\n  },\n  \"main\": \"index\",\n  \"directories\": {\n    \"lib\": \"./lib\"\n  },\n  \"browser\": \"lib/browser.js\",\n  \"license\": \"Apache-2.0\"\n}\n", "module.exports = require('../package.json').version;\n", "var _globalThis;\nif (typeof globalThis === 'object') {\n\t_globalThis = globalThis;\n} else {\n\ttry {\n\t\t_globalThis = require('es5-ext/global');\n\t} catch (error) {\n\t} finally {\n\t\tif (!_globalThis && typeof window !== 'undefined') { _globalThis = window; }\n\t\tif (!_globalThis) { throw new Error('Could not determine global this'); }\n\t}\n}\n\nvar NativeWebSocket = _globalThis.WebSocket || _globalThis.MozWebSocket;\nvar websocket_version = require('./version');\n\n\n/**\n * Expose a W3C WebSocket class with just one or two arguments.\n */\nfunction W3CWebSocket(uri, protocols) {\n\tvar native_instance;\n\n\tif (protocols) {\n\t\tnative_instance = new NativeWebSocket(uri, protocols);\n\t}\n\telse {\n\t\tnative_instance = new NativeWebSocket(uri);\n\t}\n\n\t/**\n\t * 'native_instance' is an instance of nativeWebSocket (the browser's WebSocket\n\t * class). Since it is an Object it will be returned as it is when creating an\n\t * instance of W3CWebSocket via 'new W3CWebSocket()'.\n\t *\n\t * ECMAScript 5: http://bclary.com/2004/11/07/#a-13.2.2\n\t */\n\treturn native_instance;\n}\nif (NativeWebSocket) {\n\t['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'].forEach(function(prop) {\n\t\tObject.defineProperty(W3CWebSocket, prop, {\n\t\t\tget: function() { return NativeWebSocket[prop]; }\n\t\t});\n\t});\n}\n\n/**\n * Module exports.\n */\nmodule.exports = {\n    'w3cwebsocket' : NativeWebSocket ? W3CWebSocket : null,\n    'version'      : websocket_version\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PondClient = void 0;\nconst pondsocket_common_1 = require(\"@eleven-am/pondsocket-common\");\nconst client_1 = require(\"../browser/client\");\n// eslint-disable-next-line @typescript-eslint/no-var-requires,@typescript-eslint/no-require-imports\nconst WebSocket = require('websocket').w3cwebsocket;\nclass PondClient extends client_1.PondClient {\n    /**\n     * @desc Connects to the server and returns the socket.\n     */\n    connect(backoff = 1) {\n        this._disconnecting = false;\n        const socket = new WebSocket(this._address.toString());\n        socket.onopen = () => this._connectionState.publish(true);\n        socket.onmessage = (message) => {\n            const lines = message.data.trim().split('\\n');\n            for (const line of lines) {\n                if (line.trim()) {\n                    const data = JSON.parse(line);\n                    const event = pondsocket_common_1.channelEventSchema.parse(data);\n                    this._broadcaster.publish(event);\n                }\n            }\n        };\n        socket.onerror = () => socket.close();\n        socket.onclose = () => {\n            this._connectionState.publish(false);\n            if (this._disconnecting) {\n                return;\n            }\n            setTimeout(() => {\n                this.connect();\n            }, 1000);\n        };\n    }\n}\nexports.PondClient = PondClient;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PondClient = exports.ChannelState = void 0;\nconst pondsocket_common_1 = require(\"@eleven-am/pondsocket-common\");\nObject.defineProperty(exports, \"ChannelState\", { enumerable: true, get: function () { return pondsocket_common_1.ChannelState; } });\nconst client_1 = require(\"./browser/client\");\nconst node_1 = require(\"./node/node\");\nconst PondClient = typeof window === 'undefined' ? node_1.PondClient : client_1.PondClient;\nexports.PondClient = PondClient;\n", "import {boot} from './runtime';\n\nif (typeof window !== 'undefined') {\n    window.addEventListener('DOMContentLoaded', () => {\n        const runtime = boot();\n        if (runtime) {\n            (window as any).__LIVEUI__ = runtime;\n        }\n    });\n}\n\nexport {Runtime, boot} from './runtime';\nexport {Transport} from './transport';\nexport {Patcher} from './patcher';\nexport {Router} from './router';\nexport {Uploader} from './uploader';\nexport {EffectExecutor} from './effects';\nexport {Logger} from './logger';\n", "import {PondClient} from '@eleven-am/pondsocket-client';\nimport {ClientMessage, ServerMessage} from './protocol';\nimport {MessageHandler, StateChangeHandler, TransportConfig} from './types';\n\nexport class Transport {\n    private readonly client: PondClient;\n    private readonly channel: ReturnType<PondClient['createChannel']>;\n    private readonly _sessionId: string;\n    private handler: MessageHandler | null = null;\n\n    constructor(config: TransportConfig) {\n        this._sessionId = config.sessionId;\n\n        this.client = new PondClient(config.endpoint);\n\n        const joinPayload = {\n            sid: config.sessionId,\n            ver: config.version,\n            ack: config.ack,\n            loc: config.location,\n        };\n\n        this.channel = this.client.createChannel(`live/${config.sessionId}`, joinPayload);\n        this.channel.join();\n\n        this.channel.onMessage((_event: string, payload: unknown) => {\n            this.handler?.(payload as ServerMessage);\n        });\n    }\n\n    get sessionId(): string {\n        return this._sessionId;\n    }\n\n    connect(): void {\n        this.client.connect();\n    }\n\n    disconnect(): void {\n        this.channel.leave();\n        this.client.disconnect();\n    }\n\n    send(msg: ClientMessage): void {\n        this.channel.sendMessage(msg.t, msg);\n    }\n\n    onMessage(handler: MessageHandler): void {\n        this.handler = handler;\n    }\n\n    onStateChange(handler: StateChangeHandler): void {\n        this.channel.onChannelStateChange(handler);\n    }\n}\n", "import {LogLevel, LoggerConfig} from './types';\n\nconst levels: Record<LogLevel, number> = {\n    debug: 0,\n    info: 1,\n    warn: 2,\n    error: 3\n};\n\nclass LoggerImpl {\n    private enabled = false;\n    private level: LogLevel = 'info';\n\n    configure(config: Partial<LoggerConfig>): void {\n        if (config.enabled !== undefined) this.enabled = config.enabled;\n        if (config.level !== undefined) this.level = config.level;\n    }\n\n    debug(tag: string, message: string, ...args: unknown[]): void {\n        this.log('debug', tag, message, args);\n    }\n\n    info(tag: string, message: string, ...args: unknown[]): void {\n        this.log('info', tag, message, args);\n    }\n\n    warn(tag: string, message: string, ...args: unknown[]): void {\n        this.log('warn', tag, message, args);\n    }\n\n    error(tag: string, message: string, ...args: unknown[]): void {\n        this.log('error', tag, message, args);\n    }\n\n    private log(level: LogLevel, tag: string, message: string, args: unknown[]): void {\n        if (!this.enabled) return;\n        if (levels[level] < levels[this.level]) return;\n\n        const prefix = `[LiveUI:${tag}]`;\n        const fn = console[level] || console.log;\n\n        if (args.length > 0) {\n            fn(prefix, message, ...args);\n        } else {\n            fn(prefix, message);\n        }\n    }\n}\n\nexport const Logger = new LoggerImpl();\n", "import {HandlerMeta, Patch, PatcherCallbacks, RouterMeta, StructuredNode, UploadMeta} from './types';\nimport {Logger} from './logger';\n\nexport class Patcher {\n    private readonly root: Node;\n    private callbacks: PatcherCallbacks;\n    private handlerStore = new WeakMap<Element, Map<string, (e: Event) => void>>();\n    private routerStore = new WeakMap<Element, (e: Event) => void>();\n    private uploadStore = new WeakMap<HTMLInputElement, (e: Event) => void>();\n\n    constructor(root: Node, callbacks: PatcherCallbacks) {\n        this.root = root;\n        this.callbacks = callbacks;\n    }\n\n    apply(patches: Patch[]): void {\n        const sorted = [...patches].sort((a, b) => a.seq - b.seq);\n        for (const patch of sorted) {\n            this.applyPatch(patch);\n        }\n    }\n\n    private applyPatch(patch: Patch): void {\n        const node = this.resolvePath(patch.path);\n        if (!node) {\n            Logger.warn('Patcher', 'Could not resolve path', patch.path);\n            return;\n        }\n\n        switch (patch.op) {\n            case 'setText':\n                this.setText(node, patch.value as string);\n                break;\n            case 'setComment':\n                this.setComment(node, patch.value as string);\n                break;\n            case 'setAttr':\n                this.setAttr(node as Element, patch.value as Record<string, string[]>);\n                break;\n            case 'delAttr':\n                this.delAttr(node as Element, patch.name!);\n                break;\n            case 'setStyle':\n                this.setStyle(node as HTMLElement, patch.value as Record<string, string>);\n                break;\n            case 'delStyle':\n                this.delStyle(node as HTMLElement, patch.name!);\n                break;\n            case 'setStyleDecl':\n                this.setStyleDecl(node as HTMLStyleElement, patch.selector!, patch.name!, patch.value as string);\n                break;\n            case 'delStyleDecl':\n                this.delStyleDecl(node as HTMLStyleElement, patch.selector!, patch.name!);\n                break;\n            case 'setHandlers':\n                this.setHandlers(node as Element, patch.value as HandlerMeta[]);\n                break;\n            case 'setRouter':\n                this.setRouter(node as Element, patch.value as RouterMeta);\n                break;\n            case 'delRouter':\n                this.delRouter(node as Element);\n                break;\n            case 'setUpload':\n                this.setUpload(node as HTMLInputElement, patch.value as UploadMeta);\n                break;\n            case 'delUpload':\n                this.delUpload(node as HTMLInputElement);\n                break;\n            case 'setRef':\n                this.callbacks.onRef(patch.value as string, node as Element);\n                break;\n            case 'delRef':\n                this.callbacks.onRefDelete(patch.value as string);\n                break;\n            case 'replaceNode':\n                this.replaceNode(node, patch.value as StructuredNode);\n                break;\n            case 'addChild':\n                this.addChild(node, patch.index!, patch.value as StructuredNode);\n                break;\n            case 'delChild':\n                this.delChild(node, patch.index!);\n                break;\n            case 'moveChild':\n                this.moveChild(node, patch.value as { fromIndex: number; newIdx: number });\n                break;\n        }\n    }\n\n    private resolvePath(path: number[]): Node | null {\n        let node: Node | null = this.root;\n        for (const index of path) {\n            if (!node) return null;\n            node = node.childNodes[index] ?? null;\n        }\n        return node;\n    }\n\n    private setText(node: Node, text: string): void {\n        node.textContent = text;\n    }\n\n    private setComment(node: Node, text: string): void {\n        node.textContent = text;\n    }\n\n    private setAttr(el: Element, attrs: Record<string, string[]>): void {\n        Logger.info('Patcher', 'setAttr', el, attrs);\n        for (const [name, values] of Object.entries(attrs)) {\n            if (name === 'class') {\n                el.className = values.join(' ');\n            } else if (name === 'value' && el instanceof HTMLInputElement) {\n                el.value = values[0] ?? '';\n            } else if (name === 'checked' && el instanceof HTMLInputElement) {\n                el.checked = values.length > 0 && values[0] !== 'false';\n            } else if (name === 'selected' && el instanceof HTMLOptionElement) {\n                el.selected = values.length > 0 && values[0] !== 'false';\n            } else if (values.length === 0) {\n                el.setAttribute(name, '');\n            } else {\n                el.setAttribute(name, values.join(' '));\n            }\n        }\n    }\n\n    private delAttr(el: Element, name: string): void {\n        Logger.info('Patcher', 'delAttr', el, name);\n        if (name === 'value' && el instanceof HTMLInputElement) {\n            el.value = '';\n        } else if (name === 'checked' && el instanceof HTMLInputElement) {\n            el.checked = false;\n        } else if (name === 'selected' && el instanceof HTMLOptionElement) {\n            el.selected = false;\n        } else {\n            el.removeAttribute(name);\n        }\n    }\n\n    private setStyle(el: HTMLElement, styles: Record<string, string>): void {\n        Logger.info('Patcher', 'setStyle', el, styles);\n        for (const [prop, value] of Object.entries(styles)) {\n            el.style.setProperty(prop, value);\n        }\n    }\n\n    private delStyle(el: HTMLElement, prop: string): void {\n        Logger.info('Patcher', 'delStyle', el, prop);\n        el.style.removeProperty(prop);\n    }\n\n    private setStyleDecl(styleEl: HTMLStyleElement, selector: string, prop: string, value: string): void {\n        Logger.info('Patcher', 'setStyleDecl', styleEl, selector, prop, value);\n        const sheet = styleEl.sheet;\n        if (!sheet) return;\n\n        const rule = this.findOrCreateRule(sheet, selector);\n        if (rule) {\n            rule.style.setProperty(prop, value);\n        }\n    }\n\n    private delStyleDecl(styleEl: HTMLStyleElement, selector: string, prop: string): void {\n        Logger.info('Patcher', 'delStyleDecl', styleEl, selector, prop);\n        const sheet = styleEl.sheet;\n        if (!sheet) return;\n\n        const rule = this.findRule(sheet, selector);\n        if (rule) {\n            rule.style.removeProperty(prop);\n        }\n    }\n\n    private findRule(sheet: CSSStyleSheet, selector: string): CSSStyleRule | null {\n        for (let i = 0; i < sheet.cssRules.length; i++) {\n            const rule = sheet.cssRules[i];\n            if (rule instanceof CSSStyleRule && rule.selectorText === selector) {\n                return rule;\n            }\n        }\n        return null;\n    }\n\n    private findOrCreateRule(sheet: CSSStyleSheet, selector: string): CSSStyleRule | null {\n        let rule = this.findRule(sheet, selector);\n        if (!rule) {\n            const index = sheet.insertRule(`${selector} {}`, sheet.cssRules.length);\n            rule = sheet.cssRules[index] as CSSStyleRule;\n        }\n        return rule;\n    }\n\n    private setHandlers(el: Element, handlers: HandlerMeta[]): void {\n        Logger.info('Patcher', 'setHandlers', el, handlers);\n        const oldHandlers = this.handlerStore.get(el);\n        if (oldHandlers) {\n            for (const [event, listener] of oldHandlers) {\n                el.removeEventListener(event, listener);\n            }\n        }\n\n        const newHandlers = new Map<string, (e: Event) => void>();\n        for (const meta of handlers) {\n            const listen = meta.listen ?? [];\n            const listener = (e: Event) => {\n                if (!listen.includes('allowDefault') && e.cancelable) {\n                    e.preventDefault();\n                }\n\n                const data = this.extractEventData(e, meta.props ?? []);\n                this.callbacks.onEvent(meta.event, meta.handler, data);\n\n                if (!listen.includes('bubble')) {\n                    e.stopPropagation();\n                }\n            };\n            el.addEventListener(meta.event, listener);\n            newHandlers.set(meta.event, listener);\n        }\n        this.handlerStore.set(el, newHandlers);\n    }\n\n    private extractEventData(e: Event, props: string[], el?: Element): Record<string, unknown> {\n        Logger.info('Patcher', 'extractEventData', e, props, el);\n        return Object.fromEntries(props.map(prop => [prop, this.resolveProp(e, prop, el)]).filter(([_, value]) => value !== undefined));\n    }\n\n    private resolveProp(e: Event, path: string, el?: Element): unknown {\n        const segments = path.split('.').map(s => s.trim()).filter(Boolean);\n        if (segments.length === 0) return undefined;\n        const root = segments.shift()!;\n        let current: unknown;\n        switch (root) {\n            case 'event':\n                current = e;\n                break;\n            case 'target':\n                current = e.target;\n                break;\n            case 'currentTarget':\n                current = e.currentTarget;\n                break;\n            case 'element':\n            case 'ref':\n                current = el ?? (e.currentTarget instanceof Element ? e.currentTarget : null);\n                break;\n            default:\n                current = (e as unknown as Record<string, unknown>)[root];\n        }\n\n        for (const segment of segments) {\n            if (current == null) return undefined;\n            try {\n                current = (current as Record<string, unknown>)[segment];\n            } catch {\n                return undefined;\n            }\n        }\n\n        return this.serializeValue(current);\n    }\n\n    private serializeValue(value: unknown): unknown {\n        if (value === null || value === undefined) return null;\n\n        const type = typeof value;\n        if (type === 'string' || type === 'number' || type === 'boolean') return value;\n\n        if (Array.isArray(value)) {\n            const mapped = value.map(v => this.serializeValue(v)).filter(v => v !== undefined);\n            return mapped.length > 0 ? mapped : null;\n        }\n\n        if (value instanceof Date) return value.toISOString();\n        if (value instanceof DOMTokenList) return Array.from(value);\n        if (value instanceof Node) return undefined;\n\n        try {\n            return JSON.parse(JSON.stringify(value));\n        } catch {\n            return undefined;\n        }\n    }\n\n    private setRouter(el: Element, meta: RouterMeta): void {\n        Logger.info('Patcher', 'setRouter', el, meta);\n        this.delRouter(el);\n\n        const listener = (e: Event) => {\n            e.preventDefault();\n            this.callbacks.onRouter(meta);\n        };\n        el.addEventListener('click', listener);\n        this.routerStore.set(el, listener);\n    }\n\n    private delRouter(el: Element): void {\n        Logger.info('Patcher', 'delRouter', el);\n        const listener = this.routerStore.get(el);\n        if (listener) {\n            el.removeEventListener('click', listener);\n            this.routerStore.delete(el);\n        }\n    }\n\n    private setUpload(el: HTMLInputElement, meta: UploadMeta): void {\n        Logger.info('Patcher', 'setUpload', el, meta);\n        this.delUpload(el);\n\n        if (meta.multiple) {\n            el.multiple = true;\n        }\n        if (meta.accept && meta.accept.length > 0) {\n            el.accept = meta.accept.join(',');\n        }\n\n        const listener = () => {\n            if (el.files && el.files.length > 0) {\n                this.callbacks.onUpload(meta, el.files);\n            }\n        };\n        el.addEventListener('change', listener);\n        this.uploadStore.set(el, listener);\n    }\n\n    private delUpload(el: HTMLInputElement): void {\n        Logger.info('Patcher', 'delUpload', el);\n        const listener = this.uploadStore.get(el);\n        if (listener) {\n            el.removeEventListener('change', listener);\n            this.uploadStore.delete(el);\n        }\n        el.multiple = false;\n        el.accept = '';\n    }\n\n    private replaceNode(oldNode: Node, newNodeData: StructuredNode): void {\n        Logger.info('Patcher', 'replaceNode', oldNode, newNodeData);\n        const newNode = this.createNode(newNodeData);\n        if (newNode && oldNode.parentNode) {\n            oldNode.parentNode.replaceChild(newNode, oldNode);\n        }\n    }\n\n    private addChild(parent: Node, index: number, nodeData: StructuredNode): void {\n        Logger.info('Patcher', 'addChild', parent, index, nodeData);\n        const newNode = this.createNode(nodeData);\n        if (!newNode) return;\n\n        const refChild = parent.childNodes[index] ?? null;\n        parent.insertBefore(newNode, refChild);\n    }\n\n    private delChild(parent: Node, index: number): void {\n        Logger.info('Patcher', 'delChild', parent, index);\n        const child = parent.childNodes[index];\n        if (child) {\n            parent.removeChild(child);\n        }\n    }\n\n    private moveChild(parent: Node, move: { fromIndex: number; newIdx: number }): void {\n        Logger.info('Patcher', 'moveChild', parent, move);\n        const child = parent.childNodes[move.fromIndex];\n        if (!child) return;\n\n        parent.removeChild(child);\n        const refChild = parent.childNodes[move.newIdx] ?? null;\n        parent.insertBefore(child, refChild);\n    }\n\n    private createNode(data: StructuredNode): Node | null {\n        Logger.info('Patcher', 'createNode', data);\n        if (data.text !== undefined) {\n            return document.createTextNode(data.text);\n        }\n\n        if (data.comment !== undefined) {\n            return document.createComment(data.comment);\n        }\n\n        if (!data.tag) return null;\n\n        const el = document.createElement(data.tag);\n\n        if (data.attrs) {\n            this.setAttr(el, data.attrs);\n        }\n\n        if (data.style) {\n            this.setStyle(el as HTMLElement, data.style);\n        }\n\n        if (data.handlers && data.handlers.length > 0) {\n            this.setHandlers(el, data.handlers);\n        }\n\n        if (data.router) {\n            this.setRouter(el, data.router);\n        }\n\n        if (data.upload && el instanceof HTMLInputElement) {\n            this.setUpload(el, data.upload);\n        }\n\n        if (data.refId) {\n            this.callbacks.onRef(data.refId, el);\n        }\n\n        if (data.unsafeHTML) {\n            el.innerHTML = data.unsafeHTML;\n        } else if (data.children) {\n            for (const child of data.children) {\n                const childNode = this.createNode(child);\n                if (childNode) {\n                    el.appendChild(childNode);\n                }\n            }\n        }\n\n        return el;\n    }\n}\n", "import {RouterMeta, NavCallback} from './types';\n\nexport class Router {\n    private readonly onNav: NavCallback;\n\n    constructor(onNav: NavCallback) {\n        this.onNav = onNav;\n        window.addEventListener('popstate', () => this.handlePopState());\n    }\n\n    navigate(meta: RouterMeta): void {\n        const path = meta.pathValue ?? window.location.pathname;\n        const query = meta.query !== undefined ? meta.query : window.location.search;\n        const hash = meta.hash !== undefined ? meta.hash : window.location.hash;\n\n        const cleanQuery = query.startsWith('?') ? query.substring(1) : query;\n        const cleanHash = hash.startsWith('#') ? hash.substring(1) : hash;\n        const url = path + (cleanQuery ? '?' + cleanQuery : '') + (cleanHash ? '#' + cleanHash : '');\n\n        if (meta.replace) {\n            window.history.replaceState({}, '', url);\n        } else {\n            window.history.pushState({}, '', url);\n        }\n\n        this.onNav('nav', path, cleanQuery, cleanHash);\n    }\n\n    private handlePopState(): void {\n        const path = window.location.pathname;\n        const query = window.location.search;\n        const hash = window.location.hash;\n\n        const cleanQuery = query.startsWith('?') ? query.substring(1) : query;\n        const cleanHash = hash.startsWith('#') ? hash.substring(1) : hash;\n        this.onNav('pop', path, cleanQuery, cleanHash);\n    }\n\n    destroy(): void {\n        window.removeEventListener('popstate', () => this.handlePopState());\n    }\n}\n", "import {UploadMeta, UploaderConfig, UploadMessageCallback} from './types';\nimport {UploadMessage} from './protocol';\n\ninterface ActiveUpload {\n    xhr: XMLHttpRequest;\n    input: HTMLInputElement | null;\n}\n\nexport class Uploader {\n    private readonly endpoint: string;\n    private readonly sessionId: string;\n    private readonly onMessage: UploadMessageCallback;\n    private active = new Map<string, ActiveUpload>();\n\n    constructor(config: UploaderConfig) {\n        this.endpoint = config.endpoint.replace(/\\/+$/, '');\n        this.sessionId = config.sessionId;\n        this.onMessage = config.onMessage;\n    }\n\n    upload(meta: UploadMeta, files: FileList, input?: HTMLInputElement): void {\n        const uploadId = meta.uploadId;\n\n        if (files.length === 0) {\n            this.send({t: 'upload', op: 'cancelled', id: uploadId});\n            return;\n        }\n\n        const file = files[0];\n\n        if (meta.maxSize && meta.maxSize > 0 && file.size > meta.maxSize) {\n            this.send({\n                t: 'upload',\n                op: 'error',\n                id: uploadId,\n                error: `File exceeds maximum size (${meta.maxSize} bytes)`\n            });\n            if (input) input.value = '';\n            return;\n        }\n\n        this.send({\n            t: 'upload',\n            op: 'change',\n            id: uploadId,\n            meta: {name: file.name, size: file.size, type: file.type}\n        });\n\n        this.startUpload(uploadId, file, input ?? null);\n    }\n\n    cancel(uploadId: string): void {\n        const active = this.active.get(uploadId);\n        if (active) {\n            active.xhr.abort();\n            if (active.input) active.input.value = '';\n            this.active.delete(uploadId);\n        }\n    }\n\n    private startUpload(uploadId: string, file: File, input: HTMLInputElement | null): void {\n        this.cancel(uploadId);\n\n        const target = `${this.endpoint}/${encodeURIComponent(this.sessionId)}/${encodeURIComponent(uploadId)}`;\n        const xhr = new XMLHttpRequest();\n\n        xhr.upload.onprogress = (event) => {\n            const loaded = event.loaded;\n            const total = event.lengthComputable ? event.total : file.size;\n            this.send({t: 'upload', op: 'progress', id: uploadId, loaded, total});\n        };\n\n        xhr.onerror = () => {\n            this.active.delete(uploadId);\n            this.send({t: 'upload', op: 'error', id: uploadId, error: 'Upload failed'});\n        };\n\n        xhr.onabort = () => {\n            this.active.delete(uploadId);\n            this.send({t: 'upload', op: 'cancelled', id: uploadId});\n        };\n\n        xhr.onload = () => {\n            this.active.delete(uploadId);\n            if (xhr.status < 200 || xhr.status >= 300) {\n                this.send({t: 'upload', op: 'error', id: uploadId, error: `Upload failed (${xhr.status})`});\n            } else {\n                this.send({t: 'upload', op: 'progress', id: uploadId, loaded: file.size, total: file.size});\n                if (input) input.value = '';\n            }\n        };\n\n        const form = new FormData();\n        form.append('file', file);\n        xhr.open('POST', target, true);\n        xhr.send(form);\n\n        this.active.set(uploadId, {xhr, input});\n    }\n\n    private send(msg: UploadMessage): void {\n        this.onMessage(msg);\n    }\n}\n", "import {DOMRequest, DOMResponse} from './protocol';\nimport {Logger} from './logger';\nimport {\n    DOMActionEffect,\n    CookieEffect,\n    Effect,\n    EffectExecutorConfig,\n    RefResolver,\n    DOMResponseCallback\n} from './types';\n\nexport class EffectExecutor {\n    private readonly sessionId: string;\n    private readonly resolveRef: RefResolver;\n    private readonly onDOMResponse: DOMResponseCallback;\n\n    constructor(config: EffectExecutorConfig) {\n        this.sessionId = config.sessionId;\n        this.resolveRef = config.resolveRef;\n        this.onDOMResponse = config.onDOMResponse;\n    }\n\n    execute(effects: Effect[]): void {\n        if (!effects || effects.length === 0) return;\n\n        for (const effect of effects) {\n            this.executeOne(effect);\n        }\n    }\n\n    handleDOMRequest(req: DOMRequest): void {\n        const el = this.resolveRef(req.ref);\n\n        if (!el) {\n            this.sendDOMResponse(req.id, undefined, undefined, `ref not found: ${req.ref}`);\n            return;\n        }\n\n        try {\n            if (req.props && req.props.length > 0) {\n                const values = this.readProps(el, req.props);\n                this.sendDOMResponse(req.id, values, undefined, undefined);\n            } else if (req.method) {\n                const result = this.callMethod(el, req.method, req.args ?? []);\n                this.sendDOMResponse(req.id, undefined, result, undefined);\n            } else {\n                this.sendDOMResponse(req.id, undefined, undefined, 'no props or method specified');\n            }\n        } catch (e) {\n            const error = e instanceof Error ? e.message : String(e);\n            this.sendDOMResponse(req.id, undefined, undefined, error);\n        }\n    }\n\n    private executeOne(effect: Effect): void {\n        switch (effect.type) {\n            case 'dom':\n                this.executeDOMAction(effect);\n                break;\n            case 'cookies':\n                this.executeCookieSync(effect);\n                break;\n        }\n    }\n\n    private executeDOMAction(effect: DOMActionEffect): void {\n        const el = this.resolveRef(effect.ref);\n        if (!el) {\n            Logger.warn('Effects', 'Ref not found', effect.ref);\n            return;\n        }\n\n        try {\n            switch (effect.kind) {\n                case 'dom.call':\n                    this.executeCall(el, effect);\n                    break;\n                case 'dom.set':\n                    this.executeSet(el, effect);\n                    break;\n                case 'dom.toggle':\n                    this.executeToggle(el, effect);\n                    break;\n                case 'dom.class':\n                    this.executeClass(el, effect);\n                    break;\n                case 'dom.scroll':\n                    this.executeScroll(el, effect);\n                    break;\n                default:\n                    Logger.warn('Effects', 'Unknown kind', effect.kind);\n            }\n        } catch (e) {\n            Logger.error('Effects', 'Execution failed', e);\n        }\n    }\n\n    private executeCall(el: Element, effect: DOMActionEffect): void {\n        if (!effect.method) return;\n\n        const method = (el as unknown as Record<string, unknown>)[effect.method];\n        if (typeof method === 'function') {\n            method.apply(el, effect.args ?? []);\n        } else {\n            Logger.warn('Effects', 'Method not found', effect.method);\n        }\n    }\n\n    private executeSet(el: Element, effect: DOMActionEffect): void {\n        if (!effect.prop) return;\n        (el as unknown as Record<string, unknown>)[effect.prop] = effect.value;\n    }\n\n    private executeToggle(el: Element, effect: DOMActionEffect): void {\n        if (!effect.prop) return;\n        const current = (el as unknown as Record<string, unknown>)[effect.prop];\n        (el as unknown as Record<string, unknown>)[effect.prop] = !current;\n    }\n\n    private executeClass(el: Element, effect: DOMActionEffect): void {\n        if (!effect.class) return;\n\n        if (effect.on === true) {\n            el.classList.add(effect.class);\n        } else if (effect.on === false) {\n            el.classList.remove(effect.class);\n        } else {\n            el.classList.toggle(effect.class);\n        }\n    }\n\n    private executeScroll(el: Element, effect: DOMActionEffect): void {\n        if (!el.scrollIntoView) return;\n\n        const opts: ScrollIntoViewOptions = {};\n        if (effect.behavior) opts.behavior = effect.behavior;\n        if (effect.block) opts.block = effect.block;\n        if (effect.inline) opts.inline = effect.inline;\n        el.scrollIntoView(opts);\n    }\n\n    private executeCookieSync(effect: CookieEffect): void {\n        const url = `${effect.endpoint}?sid=${encodeURIComponent(effect.sid)}&token=${encodeURIComponent(effect.token)}`;\n        fetch(url, {\n            method: effect.method ?? 'GET',\n            credentials: 'include'\n        }).catch(e => {\n            Logger.error('Effects', 'Cookie sync failed', e);\n        });\n    }\n\n    private readProps(el: Element, props: string[]): Record<string, unknown> {\n        const values: Record<string, unknown> = {};\n        for (const prop of props) {\n            values[prop] = this.resolveProp(el, prop);\n        }\n        return values;\n    }\n\n    private resolveProp(el: Element, path: string): unknown {\n        const segments = path.split('.');\n        let current: unknown = el;\n\n        for (const segment of segments) {\n            if (current == null) return undefined;\n            current = (current as Record<string, unknown>)[segment];\n        }\n\n        return this.serializeValue(current);\n    }\n\n    private callMethod(el: Element, method: string, args: unknown[]): unknown {\n        const fn = (el as unknown as Record<string, unknown>)[method];\n        if (typeof fn !== 'function') {\n            throw new Error(`method not found: ${method}`);\n        }\n        const result = fn.apply(el, args);\n        return this.serializeValue(result);\n    }\n\n    private serializeValue(value: unknown): unknown {\n        if (value === null || value === undefined) return null;\n\n        const type = typeof value;\n        if (type === 'string' || type === 'number' || type === 'boolean') return value;\n\n        if (Array.isArray(value)) {\n            return value.map(v => this.serializeValue(v));\n        }\n\n        if (value instanceof Date) return value.toISOString();\n        if (value instanceof DOMTokenList) return Array.from(value);\n        if (value instanceof Node) return undefined;\n\n        try {\n            return JSON.parse(JSON.stringify(value));\n        } catch {\n            return undefined;\n        }\n    }\n\n    private sendDOMResponse(id: string, values?: Record<string, unknown>, result?: unknown, error?: string): void {\n        const response: DOMResponse = {\n            t: 'dom_res',\n            sid: this.sessionId,\n            id,\n        };\n\n        if (values !== undefined) response.values = values;\n        if (result !== undefined) response.result = result;\n        if (error !== undefined) response.error = error;\n\n        this.onDOMResponse(response);\n    }\n}\n", "import {Transport} from './transport';\nimport {Patcher} from './patcher';\nimport {Router} from './router';\nimport {Uploader} from './uploader';\nimport {EffectExecutor} from './effects';\nimport {Logger} from './logger';\nimport {ChannelState} from '@eleven-am/pondsocket-client';\nimport {\n    Boot,\n    ClientEvent,\n    DOMRequest,\n    Frame,\n    Init,\n    Location as ProtoLocation,\n    NavMessage,\n    ResumeOK,\n    ServerMessage\n} from './protocol';\nimport {Effect, RouterMeta, UploadMeta} from './types';\n\nexport interface RuntimeConfig {\n    root: Node;\n    sessionId: string;\n    version: number;\n    seq: number;\n    endpoint: string;\n    uploadEndpoint: string;\n    location: ProtoLocation;\n    debug?: boolean;\n}\n\nexport class Runtime {\n    private connectedState = true;\n    private readonly sessionId: string;\n    private readonly transport: Transport;\n    private readonly patcher: Patcher;\n    private readonly router: Router;\n    private readonly uploader: Uploader;\n    private readonly effects: EffectExecutor;\n    private readonly refs = new Map<string, Element>();\n\n    private cseq = 0;\n\n    constructor(config: RuntimeConfig) {\n        this.sessionId = config.sessionId;\n\n        Logger.configure({enabled: config.debug ?? false, level: 'debug'});\n\n        const resolveRef = (refId: string) => this.refs.get(refId);\n\n        this.transport = new Transport({\n            endpoint: config.endpoint,\n            sessionId: config.sessionId,\n            version: config.version,\n            ack: config.seq,\n            location: config.location\n        });\n\n        this.patcher = new Patcher(config.root, {\n            onEvent: (_event, handler, data) => this.handleEvent(handler, data),\n            onRef: (refId, el) => this.refs.set(refId, el),\n            onRefDelete: (refId) => this.refs.delete(refId),\n            onRouter: (meta) => this.handleRouterClick(meta),\n            onUpload: (meta, files) => this.handleUpload(meta, files)\n        });\n\n        this.router = new Router((type, path, query, hash) => {\n            this.sendNav(type, path, query, hash);\n        });\n\n        this.uploader = new Uploader({\n            endpoint: config.uploadEndpoint,\n            sessionId: config.sessionId,\n            onMessage: (msg) => this.transport.send(msg)\n        });\n\n        this.effects = new EffectExecutor({\n            sessionId: config.sessionId,\n            resolveRef,\n            onDOMResponse: (res) => this.transport.send(res)\n        });\n\n        this.transport.onMessage((msg) => this.handleMessage(msg));\n        this.transport.onStateChange((state) => this.handleStateChange(state));\n    }\n\n    connect(): void {\n        this.transport.connect();\n        Logger.info('Runtime', 'Connected');\n    }\n\n    disconnect(): void {\n        this.transport.disconnect();\n        Logger.info('Runtime', 'Disconnected');\n    }\n\n    connected(): boolean {\n        return this.connectedState;\n    }\n\n    private handleMessage(msg: ServerMessage): void {\n        Logger.debug('Runtime', 'Received', msg.t);\n\n        switch (msg.t) {\n            case 'boot':\n                this.handleBoot(msg);\n                break;\n            case 'init':\n                this.handleInit(msg);\n                break;\n            case 'frame':\n                this.handleFrame(msg);\n                break;\n            case 'resume_ok':\n                this.handleResumeOK(msg);\n                break;\n            case 'dom_req':\n                this.handleDOMRequest(msg);\n                break;\n            case 'evt_ack':\n                break;\n            case 'error':\n                Logger.error('Runtime', 'Server error', msg.code, msg.message);\n                break;\n            case 'diagnostic':\n                Logger.warn('Runtime', 'Diagnostic', msg.code, msg.message);\n                break;\n        }\n    }\n\n    handleBoot(boot: Boot): void {\n        Logger.info('Runtime', 'Boot received', {ver: boot.ver, seq: boot.seq, patches: boot.patch?.length ?? 0});\n        if (boot.patch && boot.patch.length > 0) {\n            this.patcher.apply(boot.patch);\n        }\n\n        this.sendAck(boot.seq);\n    }\n\n    private handleInit(init: Init): void {\n        Logger.info('Runtime', 'Init received', {ver: init.ver, seq: init.seq});\n        this.sendAck(init.seq);\n    }\n\n    private handleFrame(frame: Frame): void {\n        Logger.debug('Runtime', 'Frame', {seq: frame.seq, ops: frame.patch?.length ?? 0});\n\n        if (frame.patch && frame.patch.length > 0) {\n            this.patcher.apply(frame.patch);\n        }\n\n        if (frame.effects && frame.effects.length > 0) {\n            this.effects.execute(frame.effects as Effect[]);\n        }\n\n        if (frame.nav) {\n            this.handleServerNav(frame.nav);\n        }\n\n        this.sendAck(frame.seq);\n    }\n\n    private handleResumeOK(resume: ResumeOK): void {\n        Logger.info('Runtime', 'Resume OK', {from: resume.from, to: resume.to});\n    }\n\n    private handleDOMRequest(req: DOMRequest): void {\n        this.effects.handleDOMRequest(req);\n    }\n\n    private handleServerNav(nav: { push?: string; replace?: string; back?: boolean }): void {\n        if (nav.push) {\n            window.history.pushState({}, '', nav.push);\n        } else if (nav.replace) {\n            window.history.replaceState({}, '', nav.replace);\n        } else if (nav.back) {\n            window.history.back();\n        }\n    }\n\n    private handleEvent(handler: string, data: unknown): void {\n        const event: ClientEvent = {\n            t: 'evt',\n            sid: this.sessionId,\n            hid: handler,\n            cseq: ++this.cseq,\n            payload: (data as Record<string, unknown>) ?? {}\n        };\n        this.transport.send(event);\n        Logger.debug('Runtime', 'Event sent', handler);\n    }\n\n    private handleRouterClick(meta: RouterMeta): void {\n        this.router.navigate(meta);\n    }\n\n    private handleUpload(meta: UploadMeta, files: FileList): void {\n        this.uploader.upload(meta, files);\n    }\n\n    private sendNav(type: 'nav' | 'pop', path: string, query: string, hash: string): void {\n        const msg: NavMessage = {t: type, sid: this.sessionId, path, q: query, hash};\n        this.transport.send(msg);\n        Logger.debug('Runtime', 'Nav sent', type, path);\n    }\n\n    private sendAck(seq: number): void {\n        this.transport.send({t: 'ack', sid: this.sessionId, seq});\n    }\n\n    private handleStateChange(state: ChannelState): void {\n        Logger.debug('Runtime', 'Channel state', state);\n        if (state === ChannelState.STALLED || state === ChannelState.CLOSED) {\n            this.connectedState = false;\n        }\n    }\n}\n\nexport function boot(): Runtime | null {\n    if (typeof window === 'undefined') return null;\n\n    const script = document.getElementById('live-boot');\n    let bootData: Boot | null = null;\n\n    if (script?.textContent) {\n        try {\n            bootData = JSON.parse(script.textContent);\n        } catch (e) {\n            Logger.error('Runtime', 'Failed to parse boot payload', e);\n        }\n    }\n\n    if (!bootData) {\n        bootData = (window as unknown as { __LIVEUI_BOOT__?: Boot }).__LIVEUI_BOOT__ ?? null;\n    }\n\n    if (!bootData) {\n        Logger.error('Runtime', 'No boot payload found');\n        return null;\n    }\n\n    const config: RuntimeConfig = {\n        root: document.documentElement,\n        sessionId: bootData.sid,\n        version: bootData.ver,\n        seq: bootData.seq,\n        endpoint: bootData.client?.endpoint ?? '/live',\n        uploadEndpoint: bootData.client?.upload ?? '/pondlive/upload',\n        location: bootData.location,\n        debug: bootData.client?.debug\n    };\n\n    const runtime = new Runtime(config);\n    runtime.handleBoot(bootData);\n    runtime.connect();\n    return runtime;\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AACA,UAAI,yBAA0B,WAAQ,QAAK,0BAA2B,SAAU,UAAU,OAAO,OAAO,MAAM,GAAG;AAC7G,YAAI,SAAS,IAAK,OAAM,IAAI,UAAU,gCAAgC;AACtE,YAAI,SAAS,OAAO,CAAC,EAAG,OAAM,IAAI,UAAU,+CAA+C;AAC3F,YAAI,OAAO,UAAU,aAAa,aAAa,SAAS,CAAC,IAAI,CAAC,MAAM,IAAI,QAAQ,EAAG,OAAM,IAAI,UAAU,yEAAyE;AAChL,eAAQ,SAAS,MAAM,EAAE,KAAK,UAAU,KAAK,IAAI,IAAI,EAAE,QAAQ,QAAQ,MAAM,IAAI,UAAU,KAAK,GAAI;AAAA,MACxG;AACA,UAAI,yBAA0B,WAAQ,QAAK,0BAA2B,SAAU,UAAU,OAAO,MAAM,GAAG;AACtG,YAAI,SAAS,OAAO,CAAC,EAAG,OAAM,IAAI,UAAU,+CAA+C;AAC3F,YAAI,OAAO,UAAU,aAAa,aAAa,SAAS,CAAC,IAAI,CAAC,MAAM,IAAI,QAAQ,EAAG,OAAM,IAAI,UAAU,0EAA0E;AACjL,eAAO,SAAS,MAAM,IAAI,SAAS,MAAM,EAAE,KAAK,QAAQ,IAAI,IAAI,EAAE,QAAQ,MAAM,IAAI,QAAQ;AAAA,MAChG;AACA,UAAI;AAAJ,UAAuB;AACvB,aAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,cAAQ,UAAU;AAClB,UAAM,UAAN,MAAc;AAAA,QACV,cAAc;AACV,4BAAkB,IAAI,MAAM,MAAM;AAClC,6BAAmB,IAAI,MAAM,MAAM;AACnC,iCAAuB,MAAM,mBAAmB,OAAO,GAAG;AAC1D,iCAAuB,MAAM,oBAAoB,oBAAI,IAAI,GAAG,GAAG;AAAA,QACnE;AAAA;AAAA;AAAA;AAAA,QAIA,IAAI,OAAO;AACP,iBAAO,uBAAuB,MAAM,oBAAoB,GAAG,EAAE;AAAA,QACjE;AAAA;AAAA;AAAA;AAAA;AAAA,QAKA,UAAU,UAAU;AAChB,cAAI,uBAAuB,MAAM,mBAAmB,GAAG,GAAG;AACtD,kBAAM,IAAI,MAAM,sCAAsC;AAAA,UAC1D;AACA,iCAAuB,MAAM,oBAAoB,GAAG,EAAE,IAAI,QAAQ;AAClE,iBAAO,MAAM,uBAAuB,MAAM,oBAAoB,GAAG,EAAE,OAAO,QAAQ;AAAA,QACtF;AAAA;AAAA;AAAA;AAAA;AAAA,QAKA,QAAQ,SAAS;AACb,iCAAuB,MAAM,oBAAoB,GAAG,EAAE,QAAQ,CAAC,aAAa,SAAS,OAAO,CAAC;AAAA,QACjG;AAAA;AAAA;AAAA;AAAA,QAIA,QAAQ;AACJ,iCAAuB,MAAM,oBAAoB,GAAG,EAAE,MAAM;AAC5D,iCAAuB,MAAM,mBAAmB,MAAM,GAAG;AAAA,QAC7D;AAAA,MACJ;AACA,cAAQ,UAAU;AAClB,0BAAoB,oBAAI,QAAQ,GAAG,qBAAqB,oBAAI,QAAQ;AAAA;AAAA;;;ACvDpE;AAAA;AAAA;AACA,UAAI,yBAA0B,WAAQ,QAAK,0BAA2B,SAAU,UAAU,OAAO,OAAO,MAAM,GAAG;AAC7G,YAAI,SAAS,IAAK,OAAM,IAAI,UAAU,gCAAgC;AACtE,YAAI,SAAS,OAAO,CAAC,EAAG,OAAM,IAAI,UAAU,+CAA+C;AAC3F,YAAI,OAAO,UAAU,aAAa,aAAa,SAAS,CAAC,IAAI,CAAC,MAAM,IAAI,QAAQ,EAAG,OAAM,IAAI,UAAU,yEAAyE;AAChL,eAAQ,SAAS,MAAM,EAAE,KAAK,UAAU,KAAK,IAAI,IAAI,EAAE,QAAQ,QAAQ,MAAM,IAAI,UAAU,KAAK,GAAI;AAAA,MACxG;AACA,UAAI,yBAA0B,WAAQ,QAAK,0BAA2B,SAAU,UAAU,OAAO,MAAM,GAAG;AACtG,YAAI,SAAS,OAAO,CAAC,EAAG,OAAM,IAAI,UAAU,+CAA+C;AAC3F,YAAI,OAAO,UAAU,aAAa,aAAa,SAAS,CAAC,IAAI,CAAC,MAAM,IAAI,QAAQ,EAAG,OAAM,IAAI,UAAU,0EAA0E;AACjL,eAAO,SAAS,MAAM,IAAI,SAAS,MAAM,EAAE,KAAK,QAAQ,IAAI,IAAI,EAAE,QAAQ,MAAM,IAAI,QAAQ;AAAA,MAChG;AACA,UAAI;AACJ,aAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,cAAQ,kBAAkB;AAC1B,UAAM,YAAY;AAClB,UAAM,kBAAN,cAA8B,UAAU,QAAQ;AAAA,QAC5C,YAAY,cAAc;AACtB,gBAAM;AACN,uCAA6B,IAAI,MAAM,MAAM;AAC7C,iCAAuB,MAAM,8BAA8B,cAAc,GAAG;AAAA,QAChF;AAAA;AAAA;AAAA;AAAA,QAIA,IAAI,QAAQ;AACR,iBAAO,uBAAuB,MAAM,8BAA8B,GAAG;AAAA,QACzE;AAAA;AAAA;AAAA;AAAA;AAAA,QAKA,QAAQ,SAAS;AACb,iCAAuB,MAAM,8BAA8B,SAAS,GAAG;AACvE,gBAAM,QAAQ,OAAO;AAAA,QACzB;AAAA;AAAA;AAAA;AAAA;AAAA,QAKA,UAAU,UAAU;AAChB,cAAI,uBAAuB,MAAM,8BAA8B,GAAG,GAAG;AACjE,qBAAS,uBAAuB,MAAM,8BAA8B,GAAG,CAAC;AAAA,UAC5E;AACA,iBAAO,MAAM,UAAU,QAAQ;AAAA,QACnC;AAAA,MACJ;AACA,cAAQ,kBAAkB;AAC1B,qCAA+B,oBAAI,QAAQ;AAAA;AAAA;;;AChD3C;AAAA;AAAA;AACA,UAAI,kBAAmB,WAAQ,QAAK,oBAAqB,OAAO,UAAU,SAAS,GAAG,GAAG,GAAG,IAAI;AAC5F,YAAI,OAAO,OAAW,MAAK;AAC3B,YAAI,OAAO,OAAO,yBAAyB,GAAG,CAAC;AAC/C,YAAI,CAAC,SAAS,SAAS,OAAO,CAAC,EAAE,aAAa,KAAK,YAAY,KAAK,eAAe;AACjF,iBAAO,EAAE,YAAY,MAAM,KAAK,WAAW;AAAE,mBAAO,EAAE,CAAC;AAAA,UAAG,EAAE;AAAA,QAC9D;AACA,eAAO,eAAe,GAAG,IAAI,IAAI;AAAA,MACrC,MAAM,SAAS,GAAG,GAAG,GAAG,IAAI;AACxB,YAAI,OAAO,OAAW,MAAK;AAC3B,UAAE,EAAE,IAAI,EAAE,CAAC;AAAA,MACf;AACA,UAAI,eAAgB,WAAQ,QAAK,gBAAiB,SAAS,GAAGA,UAAS;AACnE,iBAAS,KAAK,EAAG,KAAI,MAAM,aAAa,CAAC,OAAO,UAAU,eAAe,KAAKA,UAAS,CAAC,EAAG,iBAAgBA,UAAS,GAAG,CAAC;AAAA,MAC5H;AACA,aAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,mBAAa,2BAA8B,OAAO;AAClD,mBAAa,mBAAsB,OAAO;AAAA;AAAA;;;ACjB1C;AAAA;AAAA;AACA,aAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,cAAQ,eAAe,QAAQ,SAAS,QAAQ,kBAAkB,QAAQ,eAAe,QAAQ,aAAa,QAAQ,eAAe,QAAQ,gBAAgB,QAAQ,gBAAgB,QAAQ,qBAAqB;AAClN,UAAI;AACJ,OAAC,SAAUC,qBAAoB;AAC3B,QAAAA,oBAAmB,MAAM,IAAI;AAC7B,QAAAA,oBAAmB,OAAO,IAAI;AAC9B,QAAAA,oBAAmB,QAAQ,IAAI;AAAA,MACnC,GAAG,uBAAuB,QAAQ,qBAAqB,qBAAqB,CAAC,EAAE;AAC/E,UAAI;AACJ,OAAC,SAAUC,gBAAe;AACtB,QAAAA,eAAc,UAAU,IAAI;AAC5B,QAAAA,eAAc,QAAQ,IAAI;AAC1B,QAAAA,eAAc,WAAW,IAAI;AAC7B,QAAAA,eAAc,OAAO,IAAI;AACzB,QAAAA,eAAc,SAAS,IAAI;AAAA,MAC/B,GAAG,kBAAkB,QAAQ,gBAAgB,gBAAgB,CAAC,EAAE;AAChE,UAAI;AACJ,OAAC,SAAUC,gBAAe;AACtB,QAAAA,eAAc,cAAc,IAAI;AAChC,QAAAA,eAAc,eAAe,IAAI;AACjC,QAAAA,eAAc,WAAW,IAAI;AAAA,MACjC,GAAG,kBAAkB,QAAQ,gBAAgB,gBAAgB,CAAC,EAAE;AAChE,UAAIC;AACJ,OAAC,SAAUA,eAAc;AACrB,QAAAA,cAAa,MAAM,IAAI;AACvB,QAAAA,cAAa,SAAS,IAAI;AAC1B,QAAAA,cAAa,QAAQ,IAAI;AACzB,QAAAA,cAAa,SAAS,IAAI;AAC1B,QAAAA,cAAa,QAAQ,IAAI;AAAA,MAC7B,GAAGA,kBAAiB,QAAQ,eAAeA,gBAAe,CAAC,EAAE;AAC7D,UAAI;AACJ,OAAC,SAAUC,aAAY;AACnB,QAAAA,YAAW,yBAAyB,IAAI;AACxC,QAAAA,YAAW,2BAA2B,IAAI;AAC1C,QAAAA,YAAW,wBAAwB,IAAI;AACvC,QAAAA,YAAW,iBAAiB,IAAI;AAChC,QAAAA,YAAW,mBAAmB,IAAI;AAClC,QAAAA,YAAW,gBAAgB,IAAI;AAC/B,QAAAA,YAAW,eAAe,IAAI;AAC9B,QAAAA,YAAW,gBAAgB,IAAI;AAC/B,QAAAA,YAAW,uBAAuB,IAAI;AAAA,MAC1C,GAAG,eAAe,QAAQ,aAAa,aAAa,CAAC,EAAE;AACvD,UAAI;AACJ,OAAC,SAAUC,eAAc;AACrB,QAAAA,cAAa,UAAU,IAAI;AAC3B,QAAAA,cAAa,SAAS,IAAI;AAAA,MAC9B,GAAG,iBAAiB,QAAQ,eAAe,eAAe,CAAC,EAAE;AAC7D,UAAI;AACJ,OAAC,SAAUC,kBAAiB;AACxB,QAAAA,iBAAgB,WAAW,IAAI;AAC/B,QAAAA,iBAAgB,mBAAmB,IAAI;AAAA,MAC3C,GAAG,oBAAoB,QAAQ,kBAAkB,kBAAkB,CAAC,EAAE;AACtE,UAAI;AACJ,OAAC,SAAUC,SAAQ;AACf,QAAAA,QAAO,aAAa,IAAI;AACxB,QAAAA,QAAO,YAAY,IAAI;AAAA,MAC3B,GAAG,WAAW,QAAQ,SAAS,SAAS,CAAC,EAAE;AAC3C,UAAI;AACJ,OAAC,SAAUC,eAAc;AACrB,QAAAA,cAAa,SAAS,IAAI;AAC1B,QAAAA,cAAa,UAAU,IAAI;AAC3B,QAAAA,cAAa,cAAc,IAAI;AAAA,MACnC,GAAG,iBAAiB,QAAQ,eAAe,eAAe,CAAC,EAAE;AAAA;AAAA;;;AC/D7D;AAAA;AAAA;AACA,aAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,cAAQ,OAAO;AACf,eAAS,OAAO;AACZ,eAAO,uCACF,QAAQ,SAAS,CAAC,MAAM;AACzB,gBAAM,IAAI,KAAK,OAAO,IAAI,KAAK;AAC/B,gBAAM,IAAI,MAAM,MAAM,IAAK,IAAI,IAAM;AACrC,iBAAO,EAAE,SAAS,EAAE;AAAA,QACxB,CAAC;AAAA,MACL;AAAA;AAAA;;;ACVA;AAAA;AAAA;AACA,aAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAAA;AAAA;;;ACD5D;AAAA;AAAA;AACA,UAAI,kBAAmB,WAAQ,QAAK,oBAAqB,OAAO,UAAU,SAAS,GAAG,GAAG,GAAG,IAAI;AAC5F,YAAI,OAAO,OAAW,MAAK;AAC3B,YAAI,OAAO,OAAO,yBAAyB,GAAG,CAAC;AAC/C,YAAI,CAAC,SAAS,SAAS,OAAO,CAAC,EAAE,aAAa,KAAK,YAAY,KAAK,eAAe;AACjF,iBAAO,EAAE,YAAY,MAAM,KAAK,WAAW;AAAE,mBAAO,EAAE,CAAC;AAAA,UAAG,EAAE;AAAA,QAC9D;AACA,eAAO,eAAe,GAAG,IAAI,IAAI;AAAA,MACrC,MAAM,SAAS,GAAG,GAAG,GAAG,IAAI;AACxB,YAAI,OAAO,OAAW,MAAK;AAC3B,UAAE,EAAE,IAAI,EAAE,CAAC;AAAA,MACf;AACA,UAAI,eAAgB,WAAQ,QAAK,gBAAiB,SAAS,GAAGC,UAAS;AACnE,iBAAS,KAAK,EAAG,KAAI,MAAM,aAAa,CAAC,OAAO,UAAU,eAAe,KAAKA,UAAS,CAAC,EAAG,iBAAgBA,UAAS,GAAG,CAAC;AAAA,MAC5H;AACA,aAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,mBAAa,gBAAmB,OAAO;AACvC,mBAAa,iBAAoB,OAAO;AAAA;AAAA;;;ACjBxC;AAAA;AAAA;AACA,aAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,cAAQ,qBAAqB,QAAQ,sBAAsB,QAAQ,wBAAwB,QAAQ,sBAAsB,QAAQ,kBAAkB;AACnJ,UAAM,UAAU;AAIhB,UAAM,kBAAN,cAA8B,MAAM;AAAA,QAChC,YAAY,SAAS,MAAM;AACvB,gBAAM,OAAO,GAAG,IAAI,KAAK,OAAO,KAAK,OAAO;AAC5C,eAAK,OAAO;AACZ,eAAK,OAAO;AAAA,QAChB;AAAA,MACJ;AACA,cAAQ,kBAAkB;AAI1B,eAAS,SAAS,OAAO;AACrB,eAAO,OAAO,UAAU,YAAY,UAAU,QAAQ,CAAC,MAAM,QAAQ,KAAK;AAAA,MAC9E;AACA,eAAS,SAAS,OAAO;AACrB,eAAO,OAAO,UAAU;AAAA,MAC5B;AACA,eAAS,QAAQ,OAAO;AACpB,eAAO,MAAM,QAAQ,KAAK;AAAA,MAC9B;AACA,eAAS,SAAS,OAAO;AACrB,YAAI,CAAC,SAAS,KAAK,GAAG;AAClB,iBAAO;AAAA,QACX;AACA,eAAO,OAAO,KAAK,KAAK,EACnB,MAAM,CAAC,QAAQ,OAAO,QAAQ,QAAQ;AAAA,MAC/C;AACA,eAAS,eAAe,OAAO,WAAW;AACtC,YAAI,CAAC,SAAS,KAAK,GAAG;AAClB,gBAAM,IAAI,gBAAgB,wBAAwB,OAAO,KAAK,IAAI,SAAS;AAAA,QAC/E;AAAA,MACJ;AACA,eAAS,eAAe,OAAO,WAAW;AACtC,YAAI,CAAC,SAAS,KAAK,GAAG;AAClB,gBAAM,IAAI,gBAAgB,wBAAwB,OAAO,KAAK,IAAI,SAAS;AAAA,QAC/E;AAAA,MACJ;AACA,eAAS,eAAe,OAAO,WAAW;AACtC,YAAI,CAAC,SAAS,KAAK,GAAG;AAClB,gBAAM,IAAI,gBAAgB,yCAAyC,OAAO,KAAK,IAAI,SAAS;AAAA,QAChG;AAAA,MACJ;AACA,eAAS,cAAc,OAAO,WAAW;AACrC,YAAI,CAAC,QAAQ,KAAK,GAAG;AACjB,gBAAM,IAAI,gBAAgB,uBAAuB,OAAO,KAAK,IAAI,SAAS;AAAA,QAC9E;AAAA,MACJ;AACA,eAAS,aAAa,OAAO,SAAS,WAAW;AAC7C,cAAM,cAAc,OAAO,OAAO,OAAO;AACzC,YAAI,CAAC,YAAY,SAAS,KAAK,GAAG;AAC9B,gBAAM,IAAI,gBAAgB,oBAAoB,YAAY,KAAK,IAAI,CAAC,UAAU,KAAK,UAAU,KAAK,CAAC,IAAI,SAAS;AAAA,QACpH;AAAA,MACJ;AAIA,cAAQ,sBAAsB;AAAA,QAC1B,MAAM,MAAM;AACR,yBAAe,MAAM,eAAe;AACpC,gBAAM,MAAM;AAEZ,cAAI,EAAE,WAAW,MAAM;AACnB,kBAAM,IAAI,gBAAgB,0BAA0B,OAAO;AAAA,UAC/D;AACA,cAAI,EAAE,eAAe,MAAM;AACvB,kBAAM,IAAI,gBAAgB,0BAA0B,WAAW;AAAA,UACnE;AACA,cAAI,EAAE,iBAAiB,MAAM;AACzB,kBAAM,IAAI,gBAAgB,0BAA0B,aAAa;AAAA,UACrE;AACA,cAAI,EAAE,aAAa,MAAM;AACrB,kBAAM,IAAI,gBAAgB,0BAA0B,SAAS;AAAA,UACjE;AACA,cAAI,EAAE,YAAY,MAAM;AACpB,kBAAM,IAAI,gBAAgB,0BAA0B,QAAQ;AAAA,UAChE;AAEA,yBAAe,IAAI,OAAO,OAAO;AACjC,yBAAe,IAAI,WAAW,WAAW;AACzC,yBAAe,IAAI,aAAa,aAAa;AAC7C,yBAAe,IAAI,SAAS,SAAS;AACrC,uBAAa,IAAI,QAAQ,QAAQ,eAAe,QAAQ;AACxD,iBAAO;AAAA,YACH,OAAO,IAAI;AAAA,YACX,WAAW,IAAI;AAAA,YACf,aAAa,IAAI;AAAA,YACjB,SAAS,IAAI;AAAA,YACb,QAAQ,IAAI;AAAA,UAChB;AAAA,QACJ;AAAA,MACJ;AACA,cAAQ,wBAAwB;AAAA,QAC5B,MAAM,MAAM;AACR,yBAAe,MAAM,iBAAiB;AACtC,gBAAM,MAAM;AAEZ,cAAI,EAAE,eAAe,MAAM;AACvB,kBAAM,IAAI,gBAAgB,0BAA0B,WAAW;AAAA,UACnE;AACA,cAAI,EAAE,iBAAiB,MAAM;AACzB,kBAAM,IAAI,gBAAgB,0BAA0B,aAAa;AAAA,UACrE;AACA,cAAI,EAAE,WAAW,MAAM;AACnB,kBAAM,IAAI,gBAAgB,0BAA0B,OAAO;AAAA,UAC/D;AACA,cAAI,EAAE,YAAY,MAAM;AACpB,kBAAM,IAAI,gBAAgB,0BAA0B,QAAQ;AAAA,UAChE;AACA,cAAI,EAAE,aAAa,MAAM;AACrB,kBAAM,IAAI,gBAAgB,0BAA0B,SAAS;AAAA,UACjE;AAEA,yBAAe,IAAI,WAAW,WAAW;AACzC,yBAAe,IAAI,aAAa,aAAa;AAC7C,uBAAa,IAAI,OAAO,QAAQ,oBAAoB,OAAO;AAE3D,cAAI,IAAI,WAAW,QAAQ,cAAc,UAAU;AAC/C,kBAAM,IAAI,gBAAgB,YAAY,QAAQ,cAAc,QAAQ,SAAS,KAAK,UAAU,IAAI,MAAM,CAAC,IAAI,QAAQ;AAAA,UACvH;AAEA,yBAAe,IAAI,SAAS,SAAS;AACrC,gBAAM,UAAU,IAAI;AACpB,cAAI,EAAE,cAAc,UAAU;AAC1B,kBAAM,IAAI,gBAAgB,0BAA0B,kBAAkB;AAAA,UAC1E;AACA,cAAI,EAAE,aAAa,UAAU;AACzB,kBAAM,IAAI,gBAAgB,0BAA0B,iBAAiB;AAAA,UACzE;AACA,wBAAc,QAAQ,UAAU,kBAAkB;AAElD,kBAAQ,SAAS,QAAQ,CAAC,MAAM,UAAU;AACtC,2BAAe,MAAM,oBAAoB,KAAK,GAAG;AAAA,UACrD,CAAC;AACD,yBAAe,QAAQ,SAAS,iBAAiB;AACjD,iBAAO;AAAA,YACH,WAAW,IAAI;AAAA,YACf,aAAa,IAAI;AAAA,YACjB,OAAO,IAAI;AAAA,YACX,QAAQ,QAAQ,cAAc;AAAA,YAC9B,SAAS;AAAA,cACL,UAAU,QAAQ;AAAA,cAClB,SAAS,QAAQ;AAAA,YACrB;AAAA,UACJ;AAAA,QACJ;AAAA,MACJ;AACA,cAAQ,sBAAsB;AAAA,QAC1B,MAAM,MAAM;AACR,yBAAe,MAAM,eAAe;AACpC,gBAAM,MAAM;AAEZ,cAAI,EAAE,WAAW,MAAM;AACnB,kBAAM,IAAI,gBAAgB,0BAA0B,OAAO;AAAA,UAC/D;AACA,cAAI,EAAE,eAAe,MAAM;AACvB,kBAAM,IAAI,gBAAgB,0BAA0B,WAAW;AAAA,UACnE;AACA,cAAI,EAAE,iBAAiB,MAAM;AACzB,kBAAM,IAAI,gBAAgB,0BAA0B,aAAa;AAAA,UACrE;AACA,cAAI,EAAE,aAAa,MAAM;AACrB,kBAAM,IAAI,gBAAgB,0BAA0B,SAAS;AAAA,UACjE;AACA,cAAI,EAAE,YAAY,MAAM;AACpB,kBAAM,IAAI,gBAAgB,0BAA0B,QAAQ;AAAA,UAChE;AAEA,yBAAe,IAAI,OAAO,OAAO;AACjC,yBAAe,IAAI,WAAW,WAAW;AACzC,yBAAe,IAAI,aAAa,aAAa;AAC7C,yBAAe,IAAI,SAAS,SAAS;AAErC,gBAAM,eAAe;AAAA,YACjB,QAAQ,cAAc;AAAA,YACtB,QAAQ,cAAc;AAAA,YACtB,QAAQ,cAAc;AAAA,YACtB,QAAQ,cAAc;AAAA,UAC1B;AACA,cAAI,CAAC,aAAa,SAAS,IAAI,MAAM,GAAG;AACpC,kBAAM,IAAI,gBAAgB,oBAAoB,aAAa,KAAK,IAAI,CAAC,UAAU,KAAK,UAAU,IAAI,MAAM,CAAC,IAAI,QAAQ;AAAA,UACzH;AACA,iBAAO;AAAA,YACH,OAAO,IAAI;AAAA,YACX,WAAW,IAAI;AAAA,YACf,aAAa,IAAI;AAAA,YACjB,SAAS,IAAI;AAAA,YACb,QAAQ,IAAI;AAAA,UAChB;AAAA,QACJ;AAAA,MACJ;AACA,cAAQ,qBAAqB;AAAA,QACzB,MAAM,MAAM;AACR,yBAAe,MAAM,cAAc;AACnC,gBAAM,MAAM;AAEZ,cAAI,EAAE,YAAY,MAAM;AACpB,kBAAM,IAAI,gBAAgB,0BAA0B,QAAQ;AAAA,UAChE;AAEA,cAAI,IAAI,WAAW,QAAQ,cAAc,UAAU;AAC/C,mBAAO,QAAQ,sBAAsB,MAAM,IAAI;AAAA,UACnD;AACA,iBAAO,QAAQ,oBAAoB,MAAM,IAAI;AAAA,QACjD;AAAA,MACJ;AAAA;AAAA;;;ACnNA;AAAA;AAAA;AACA,UAAI,kBAAmB,WAAQ,QAAK,oBAAqB,OAAO,UAAU,SAAS,GAAG,GAAG,GAAG,IAAI;AAC5F,YAAI,OAAO,OAAW,MAAK;AAC3B,YAAI,OAAO,OAAO,yBAAyB,GAAG,CAAC;AAC/C,YAAI,CAAC,SAAS,SAAS,OAAO,CAAC,EAAE,aAAa,KAAK,YAAY,KAAK,eAAe;AACjF,iBAAO,EAAE,YAAY,MAAM,KAAK,WAAW;AAAE,mBAAO,EAAE,CAAC;AAAA,UAAG,EAAE;AAAA,QAC9D;AACA,eAAO,eAAe,GAAG,IAAI,IAAI;AAAA,MACrC,MAAM,SAAS,GAAG,GAAG,GAAG,IAAI;AACxB,YAAI,OAAO,OAAW,MAAK;AAC3B,UAAE,EAAE,IAAI,EAAE,CAAC;AAAA,MACf;AACA,UAAI,eAAgB,WAAQ,QAAK,gBAAiB,SAAS,GAAGC,UAAS;AACnE,iBAAS,KAAK,EAAG,KAAI,MAAM,aAAa,CAAC,OAAO,UAAU,eAAe,KAAKA,UAAS,CAAC,EAAG,iBAAgBA,UAAS,GAAG,CAAC;AAAA,MAC5H;AACA,aAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,mBAAa,oBAAuB,OAAO;AAC3C,mBAAa,iBAAoB,OAAO;AACxC,mBAAa,gBAAmB,OAAO;AACvC,mBAAa,kBAAqB,OAAO;AAAA;AAAA;;;ACnBzC;AAAA;AAAA;AACA,UAAI,yBAA0B,WAAQ,QAAK,0BAA2B,SAAU,UAAU,OAAO,OAAO,MAAM,GAAG;AAC7G,YAAI,SAAS,IAAK,OAAM,IAAI,UAAU,gCAAgC;AACtE,YAAI,SAAS,OAAO,CAAC,EAAG,OAAM,IAAI,UAAU,+CAA+C;AAC3F,YAAI,OAAO,UAAU,aAAa,aAAa,SAAS,CAAC,IAAI,CAAC,MAAM,IAAI,QAAQ,EAAG,OAAM,IAAI,UAAU,yEAAyE;AAChL,eAAQ,SAAS,MAAM,EAAE,KAAK,UAAU,KAAK,IAAI,IAAI,EAAE,QAAQ,QAAQ,MAAM,IAAI,UAAU,KAAK,GAAI;AAAA,MACxG;AACA,UAAI,yBAA0B,WAAQ,QAAK,0BAA2B,SAAU,UAAU,OAAO,MAAM,GAAG;AACtG,YAAI,SAAS,OAAO,CAAC,EAAG,OAAM,IAAI,UAAU,+CAA+C;AAC3F,YAAI,OAAO,UAAU,aAAa,aAAa,SAAS,CAAC,IAAI,CAAC,MAAM,IAAI,QAAQ,EAAG,OAAM,IAAI,UAAU,0EAA0E;AACjL,eAAO,SAAS,MAAM,IAAI,SAAS,MAAM,EAAE,KAAK,QAAQ,IAAI,IAAI,EAAE,QAAQ,MAAM,IAAI,QAAQ;AAAA,MAChG;AACA,UAAI;AAAJ,UAAwB;AAAxB,UAAuC;AAAvC,UAAuD;AAAvD,UAA0E;AAA1E,UAAgG;AAAhG,UAAoH;AAApH,UAAyI;AAAzI,UAA4J;AAA5J,UAAkL;AAAlL,UAAsM;AAAtM,UAA2N;AAA3N,UAA0O;AAA1O,UAA8P;AAA9P,UAAgR;AAChR,aAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,cAAQ,UAAU;AAClB,UAAM,sBAAsB;AAC5B,UAAM,UAAN,MAAc;AAAA,QACV,YAAY,WAAW,aAAa,MAAM,QAAQ;AAC9C,6BAAmB,IAAI,IAAI;AAC3B,wBAAc,IAAI,MAAM,MAAM;AAC9B,yBAAe,IAAI,MAAM,MAAM;AAC/B,4BAAkB,IAAI,MAAM,MAAM;AAClC,+BAAqB,IAAI,MAAM,MAAM;AACrC,6BAAmB,IAAI,MAAM,MAAM;AACnC,8BAAoB,IAAI,MAAM,MAAM;AACpC,4BAAkB,IAAI,MAAM,MAAM;AAClC,+BAAqB,IAAI,MAAM,MAAM;AACrC,6BAAmB,IAAI,MAAM,MAAM;AACnC,iCAAuB,MAAM,eAAe,MAAM,GAAG;AACrD,iCAAuB,MAAM,gBAAgB,CAAC,GAAG,GAAG;AACpD,iCAAuB,MAAM,mBAAmB,CAAC,GAAG,GAAG;AACvD,iCAAuB,MAAM,qBAAqB,QAAQ,GAAG;AAC7D,iCAAuB,MAAM,oBAAoB,WAAW,GAAG;AAC/D,iCAAuB,MAAM,sBAAsB,aAAa,GAAG;AACnE,iCAAuB,MAAM,mBAAmB,IAAI,oBAAoB,QAAQ,GAAG,GAAG;AACtF,iCAAuB,MAAM,oBAAoB,IAAI,oBAAoB,gBAAgB,oBAAoB,aAAa,IAAI,GAAG,GAAG;AACpI,iCAAuB,MAAM,sBAAsB,MAAM;AAAA,UAEzD,GAAG,GAAG;AAAA,QACV;AAAA;AAAA;AAAA;AAAA,QAIA,IAAI,eAAe;AACf,iBAAO,uBAAuB,MAAM,oBAAoB,GAAG,EAAE;AAAA,QACjE;AAAA;AAAA;AAAA;AAAA,QAIA,IAAI,WAAW;AACX,iBAAO,uBAAuB,MAAM,mBAAmB,GAAG;AAAA,QAC9D;AAAA;AAAA;AAAA;AAAA;AAAA,QAKA,YAAY,UAAU;AAClB,iCAAuB,MAAM,oBAAoB,GAAG,EAAE,QAAQ,oBAAoB,aAAa,MAAM;AACrG,iCAAuB,MAAM,oBAAoB,KAAK,aAAa,EAAE,KAAK,MAAM,QAAQ;AACxF,iCAAuB,MAAM,oBAAoB,KAAK,mBAAmB,EAAE,KAAK,IAAI;AAAA,QACxF;AAAA;AAAA;AAAA;AAAA,QAIA,OAAO;AACH,gBAAM,UAAU;AAAA,YACZ,QAAQ,oBAAoB,cAAc;AAAA,YAC1C,OAAO,oBAAoB,cAAc;AAAA,YACzC,SAAS,uBAAuB,MAAM,qBAAqB,GAAG;AAAA,YAC9D,aAAa,uBAAuB,MAAM,eAAe,GAAG;AAAA,YAC5D,YAAY,GAAG,oBAAoB,MAAM;AAAA,UAC7C;AACA,cAAI,uBAAuB,MAAM,oBAAoB,GAAG,EAAE,UAAU,oBAAoB,aAAa,QAAQ;AACzG;AAAA,UACJ;AACA,iCAAuB,MAAM,oBAAoB,GAAG,EAAE,QAAQ,oBAAoB,aAAa,OAAO;AACtG,cAAI,uBAAuB,MAAM,sBAAsB,GAAG,EAAE,OAAO;AAC/D,mCAAuB,MAAM,oBAAoB,GAAG,EAAE,KAAK,MAAM,OAAO;AAAA,UAC5E,OACK;AACD,kBAAM,cAAc,uBAAuB,MAAM,sBAAsB,GAAG,EAAE,UAAU,CAAC,UAAU;AAC7F,kBAAI,OAAO;AACP,4BAAY;AACZ,oBAAI,uBAAuB,MAAM,oBAAoB,GAAG,EAAE,UAAU,oBAAoB,aAAa,SAAS;AAC1G,yCAAuB,MAAM,oBAAoB,GAAG,EAAE,KAAK,MAAM,OAAO;AAAA,gBAC5E;AAAA,cACJ;AAAA,YACJ,CAAC;AAAA,UACL;AAAA,QACJ;AAAA;AAAA;AAAA;AAAA,QAIA,QAAQ;AACJ,gBAAM,UAAU;AAAA,YACZ,QAAQ,oBAAoB,cAAc;AAAA,YAC1C,OAAO,oBAAoB,cAAc;AAAA,YACzC,aAAa,uBAAuB,MAAM,eAAe,GAAG;AAAA,YAC5D,YAAY,GAAG,oBAAoB,MAAM;AAAA,YACzC,SAAS,CAAC;AAAA,UACd;AACA,iCAAuB,MAAM,oBAAoB,KAAK,gBAAgB,EAAE,KAAK,MAAM,OAAO;AAC1F,iCAAuB,MAAM,oBAAoB,GAAG,EAAE,QAAQ,oBAAoB,aAAa,MAAM;AACrG,iCAAuB,MAAM,sBAAsB,GAAG,EAAE,KAAK,IAAI;AAAA,QACrE;AAAA;AAAA;AAAA;AAAA;AAAA,QAKA,qBAAqB,UAAU;AAC3B,iBAAO,uBAAuB,MAAM,oBAAoB,GAAG,EAAE,UAAU,CAAC,SAAS;AAC7E,qBAAS,IAAI;AAAA,UACjB,CAAC;AAAA,QACL;AAAA;AAAA;AAAA;AAAA;AAAA,QAKA,OAAO,UAAU;AACb,iBAAO,uBAAuB,MAAM,oBAAoB,KAAK,4BAA4B,EAAE,KAAK,MAAM,CAAC,OAAO,YAAY;AACtH,gBAAI,UAAU,oBAAoB,mBAAmB,MAAM;AACvD,qBAAO,SAAS,QAAQ,OAAO;AAAA,YACnC;AAAA,UACJ,CAAC;AAAA,QACL;AAAA;AAAA;AAAA;AAAA;AAAA,QAKA,QAAQ,UAAU;AACd,iBAAO,uBAAuB,MAAM,oBAAoB,KAAK,4BAA4B,EAAE,KAAK,MAAM,CAAC,OAAO,YAAY;AACtH,gBAAI,UAAU,oBAAoB,mBAAmB,OAAO;AACxD,qBAAO,SAAS,QAAQ,OAAO;AAAA,YACnC;AAAA,UACJ,CAAC;AAAA,QACL;AAAA;AAAA;AAAA;AAAA;AAAA,QAKA,UAAU,UAAU;AAChB,iBAAO,uBAAuB,MAAM,oBAAoB,KAAK,kBAAkB,EAAE,KAAK,MAAM,CAAC,OAAO,YAAY;AAC5G,qBAAS,OAAO,OAAO;AAAA,UAC3B,CAAC;AAAA,QACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAMA,eAAe,OAAO,UAAU;AAC5B,iBAAO,KAAK,UAAU,CAAC,eAAe,YAAY;AAC9C,gBAAI,kBAAkB,OAAO;AACzB,qBAAO,SAAS,OAAO;AAAA,YAC3B;AAAA,UACJ,CAAC;AAAA,QACL;AAAA;AAAA;AAAA;AAAA;AAAA,QAKA,iBAAiB,UAAU;AACvB,iBAAO,uBAAuB,MAAM,oBAAoB,KAAK,4BAA4B,EAAE,KAAK,MAAM,CAAC,OAAO,YAAY;AACtH,gBAAI,UAAU,oBAAoB,mBAAmB,QAAQ;AACzD,qBAAO,SAAS,OAAO;AAAA,YAC3B;AAAA,UACJ,CAAC;AAAA,QACL;AAAA;AAAA;AAAA;AAAA;AAAA,QAKA,cAAc,UAAU;AACpB,iBAAO,uBAAuB,MAAM,oBAAoB,KAAK,4BAA4B,EAAE,KAAK,MAAM,CAAC,QAAQ,YAAY,SAAS,QAAQ,QAAQ,CAAC;AAAA,QACzJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAMA,YAAY,OAAO,SAAS;AACxB,gBAAM,aAAa,GAAG,oBAAoB,MAAM;AAChD,gBAAM,UAAU;AAAA,YACZ,QAAQ,oBAAoB,cAAc;AAAA,YAC1C,aAAa,uBAAuB,MAAM,eAAe,GAAG;AAAA,YAC5D;AAAA,YACA;AAAA,YACA;AAAA,UACJ;AACA,iCAAuB,MAAM,oBAAoB,KAAK,gBAAgB,EAAE,KAAK,MAAM,OAAO;AAAA,QAC9F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAMA,gBAAgB,WAAW,SAAS;AAChC,gBAAM,aAAa,GAAG,oBAAoB,MAAM;AAChD,iBAAO,IAAI,QAAQ,CAAC,YAAY;AAC5B,kBAAM,QAAQ,uBAAuB,MAAM,oBAAoB,KAAK,kBAAkB,EAAE,KAAK,MAAM,CAAC,GAAGC,UAAS,eAAe;AAC3H,kBAAI,cAAc,YAAY;AAC1B,wBAAQA,QAAO;AACf,sBAAM;AAAA,cACV;AAAA,YACJ,CAAC;AACD,kBAAM,UAAU;AAAA,cACZ,QAAQ,oBAAoB,cAAc;AAAA,cAC1C,aAAa,uBAAuB,MAAM,eAAe,GAAG;AAAA,cAC5D;AAAA,cACA,OAAO;AAAA,cACP;AAAA,YACJ;AACA,mCAAuB,MAAM,oBAAoB,KAAK,gBAAgB,EAAE,KAAK,MAAM,OAAO;AAAA,UAC9F,CAAC;AAAA,QACL;AAAA,MACJ;AACA,cAAQ,UAAU;AAClB,sBAAgB,oBAAI,QAAQ,GAAG,iBAAiB,oBAAI,QAAQ,GAAG,oBAAoB,oBAAI,QAAQ,GAAG,uBAAuB,oBAAI,QAAQ,GAAG,qBAAqB,oBAAI,QAAQ,GAAG,sBAAsB,oBAAI,QAAQ,GAAG,oBAAoB,oBAAI,QAAQ,GAAG,uBAAuB,oBAAI,QAAQ,GAAG,qBAAqB,oBAAI,QAAQ,GAAG,qBAAqB,oBAAI,QAAQ,GAAG,sBAAsB,SAASC,uBAAsB;AACnZ,+BAAuB,MAAM,gBAAgB,GAAG,EAC3C,QAAQ,CAAC,YAAY,uBAAuB,MAAM,oBAAoB,GAAG,EAAE,KAAK,MAAM,OAAO,CAAC;AACnG,+BAAuB,MAAM,gBAAgB,CAAC,GAAG,GAAG;AAAA,MACxD,GAAG,gBAAgB,SAASC,eAAc,UAAU;AAChD,+BAAuB,MAAM,sBAAsB,GAAG,EAAE,KAAK,IAAI;AACjE,cAAM,gBAAgB,SAAS,UAAU,CAAC,SAAS;AAC/C,cAAI,KAAK,gBAAgB,uBAAuB,MAAM,eAAe,GAAG,KAAK,KAAK,iBAAiB,oBAAoB,aAAa,QAAQ;AACxI,mCAAuB,MAAM,mBAAmB,GAAG,EAAE,QAAQ,IAAI;AAAA,UACrE;AAAA,QACJ,CAAC;AACD,cAAM,mBAAmB,uBAAuB,MAAM,sBAAsB,GAAG,EAAE,UAAU,CAAC,UAAU;AAClG,cAAI,SAAS,uBAAuB,MAAM,oBAAoB,GAAG,EAAE,UAAU,oBAAoB,aAAa,SAAS;AACnH,kBAAM,UAAU;AAAA,cACZ,QAAQ,oBAAoB,cAAc;AAAA,cAC1C,OAAO,oBAAoB,cAAc;AAAA,cACzC,SAAS,uBAAuB,MAAM,qBAAqB,GAAG;AAAA,cAC9D,aAAa,uBAAuB,MAAM,eAAe,GAAG;AAAA,cAC5D,YAAY,GAAG,oBAAoB,MAAM;AAAA,YAC7C;AACA,mCAAuB,MAAM,oBAAoB,GAAG,EAAE,KAAK,MAAM,OAAO;AAAA,UAC5E,WACS,CAAC,SAAS,uBAAuB,MAAM,oBAAoB,GAAG,EAAE,UAAU,oBAAoB,aAAa,QAAQ;AACxH,mCAAuB,MAAM,oBAAoB,GAAG,EAAE,QAAQ,oBAAoB,aAAa,OAAO;AAAA,UAC1G;AAAA,QACJ,CAAC;AACD,cAAM,gBAAgB,uBAAuB,MAAM,oBAAoB,KAAK,4BAA4B,EAAE,KAAK,MAAM,CAAC,GAAG,YAAY;AACjI,iCAAuB,MAAM,mBAAmB,QAAQ,UAAU,GAAG;AAAA,QACzE,CAAC;AACD,+BAAuB,MAAM,sBAAsB,MAAM;AACrD,wBAAc;AACd,2BAAiB;AACjB,wBAAc;AAAA,QAClB,GAAG,GAAG;AAAA,MACV,GAAG,qBAAqB,SAASC,oBAAmB,UAAU;AAC1D,eAAO,uBAAuB,MAAM,mBAAmB,GAAG,EAAE,UAAU,CAAC,SAAS;AAC5E,cAAI,KAAK,WAAW,oBAAoB,cAAc,UAAU;AAC5D,mBAAO,SAAS,KAAK,OAAO,KAAK,SAAS,KAAK,SAAS;AAAA,UAC5D;AAAA,QACJ,CAAC;AAAA,MACL,GAAG,mBAAmB,SAASC,kBAAiB,MAAM;AAClD,YAAI,uBAAuB,MAAM,oBAAoB,GAAG,EAAE,UAAU,oBAAoB,aAAa,QAAQ;AACzG,iBAAO,uBAAuB,MAAM,oBAAoB,GAAG,EAAE,KAAK,MAAM,IAAI;AAAA,QAChF;AACA,+BAAuB,MAAM,gBAAgB,GAAG,EAAE,KAAK,IAAI;AAAA,MAC/D,GAAG,+BAA+B,SAASC,8BAA6B,UAAU;AAC9E,eAAO,uBAAuB,MAAM,mBAAmB,GAAG,EAAE,UAAU,CAAC,SAAS;AAC5E,cAAI,KAAK,WAAW,oBAAoB,cAAc,UAAU;AAC5D,mBAAO,SAAS,KAAK,OAAO,KAAK,OAAO;AAAA,UAC5C;AAAA,QACJ,CAAC;AAAA,MACL;AAAA;AAAA;;;AC5QA;AAAA;AAAA;AACA,UAAI,yBAA0B,WAAQ,QAAK,0BAA2B,SAAU,UAAU,OAAO,OAAO,MAAM,GAAG;AAC7G,YAAI,SAAS,IAAK,OAAM,IAAI,UAAU,gCAAgC;AACtE,YAAI,SAAS,OAAO,CAAC,EAAG,OAAM,IAAI,UAAU,+CAA+C;AAC3F,YAAI,OAAO,UAAU,aAAa,aAAa,SAAS,CAAC,IAAI,CAAC,MAAM,IAAI,QAAQ,EAAG,OAAM,IAAI,UAAU,yEAAyE;AAChL,eAAQ,SAAS,MAAM,EAAE,KAAK,UAAU,KAAK,IAAI,IAAI,EAAE,QAAQ,QAAQ,MAAM,IAAI,UAAU,KAAK,GAAI;AAAA,MACxG;AACA,UAAI,yBAA0B,WAAQ,QAAK,0BAA2B,SAAU,UAAU,OAAO,MAAM,GAAG;AACtG,YAAI,SAAS,OAAO,CAAC,EAAG,OAAM,IAAI,UAAU,+CAA+C;AAC3F,YAAI,OAAO,UAAU,aAAa,aAAa,SAAS,CAAC,IAAI,CAAC,MAAM,IAAI,QAAQ,EAAG,OAAM,IAAI,UAAU,0EAA0E;AACjL,eAAO,SAAS,MAAM,IAAI,SAAS,MAAM,EAAE,KAAK,QAAQ,IAAI,IAAI,EAAE,QAAQ,MAAM,IAAI,QAAQ;AAAA,MAChG;AACA,UAAI;AAAJ,UAA2B;AAA3B,UAAiD;AAAjD,UAA8E;AAA9E,UAA6G;AAC7G,aAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,cAAQ,aAAa;AACrB,UAAM,sBAAsB;AAC5B,UAAM,YAAY;AAClB,UAAMC,cAAN,MAAiB;AAAA,QACb,YAAY,UAAU,SAAS,CAAC,GAAG;AAC/B,gCAAsB,IAAI,IAAI;AAC9B,+BAAqB,IAAI,MAAM,MAAM;AACrC,cAAI;AACJ,cAAI;AACA,sBAAU,IAAI,IAAI,QAAQ;AAAA,UAC9B,SACO,GAAG;AACN,sBAAU,IAAI,IAAI,OAAO,SAAS,SAAS,CAAC;AAC5C,oBAAQ,WAAW;AAAA,UACvB;AACA,eAAK,iBAAiB;AACtB,gBAAM,QAAQ,IAAI,gBAAgB,MAAM;AACxC,kBAAQ,SAAS,MAAM,SAAS;AAChC,gBAAM,WAAW,QAAQ,aAAa,WAAW,SAAS;AAC1D,cAAI,QAAQ,aAAa,UAAU,QAAQ,aAAa,OAAO;AAC3D,oBAAQ,WAAW;AAAA,UACvB;AACA,eAAK,WAAW;AAChB,iCAAuB,MAAM,sBAAsB,oBAAI,IAAI,GAAG,GAAG;AACjE,eAAK,eAAe,IAAI,oBAAoB,QAAQ;AACpD,eAAK,mBAAmB,IAAI,oBAAoB,gBAAgB,KAAK;AACrE,iCAAuB,MAAM,uBAAuB,KAAK,gBAAgB,EAAE,KAAK,IAAI;AAAA,QACxF;AAAA;AAAA;AAAA;AAAA,QAIA,UAAU;AACN,eAAK,iBAAiB;AACtB,gBAAM,SAAS,IAAI,UAAU,KAAK,SAAS,SAAS,CAAC;AACrD,iBAAO,YAAY,CAAC,YAAY;AAC5B,kBAAM,QAAQ,QAAQ,KAAK,KAAK,EAAE,MAAM,IAAI;AAC5C,uBAAW,QAAQ,OAAO;AACtB,kBAAI,KAAK,KAAK,GAAG;AACb,sBAAM,OAAO,KAAK,MAAM,IAAI;AAC5B,sBAAM,QAAQ,oBAAoB,mBAAmB,MAAM,IAAI;AAC/D,qBAAK,aAAa,QAAQ,KAAK;AAAA,cACnC;AAAA,YACJ;AAAA,UACJ;AACA,iBAAO,UAAU,MAAM,OAAO,MAAM;AACpC,iBAAO,UAAU,MAAM;AACnB,iBAAK,iBAAiB,QAAQ,KAAK;AACnC,gBAAI,KAAK,gBAAgB;AACrB;AAAA,YACJ;AACA,uBAAW,MAAM;AACb,mBAAK,QAAQ;AAAA,YACjB,GAAG,GAAI;AAAA,UACX;AACA,eAAK,UAAU;AAAA,QACnB;AAAA;AAAA;AAAA;AAAA,QAIA,WAAW;AACP,iBAAO,KAAK,iBAAiB;AAAA,QACjC;AAAA;AAAA;AAAA;AAAA,QAIA,aAAa;AACT,cAAI;AACJ,eAAK,iBAAiB,QAAQ,KAAK;AACnC,eAAK,iBAAiB;AACtB,WAAC,KAAK,KAAK,aAAa,QAAQ,OAAO,SAAS,SAAS,GAAG,MAAM;AAClE,iCAAuB,MAAM,sBAAsB,GAAG,EAAE,MAAM;AAAA,QAClE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAMA,cAAc,MAAM,QAAQ;AACxB,gBAAM,UAAU,uBAAuB,MAAM,sBAAsB,GAAG,EAAE,IAAI,IAAI;AAChF,cAAI,WAAW,QAAQ,iBAAiB,oBAAoB,aAAa,QAAQ;AAC7E,mBAAO;AAAA,UACX;AACA,gBAAM,YAAY,uBAAuB,MAAM,uBAAuB,KAAK,2BAA2B,EAAE,KAAK,IAAI;AACjH,gBAAM,aAAa,IAAI,UAAU,QAAQ,WAAW,KAAK,kBAAkB,MAAM,UAAU,CAAC,CAAC;AAC7F,iCAAuB,MAAM,sBAAsB,GAAG,EAAE,IAAI,MAAM,UAAU;AAC5E,iBAAO;AAAA,QACX;AAAA;AAAA;AAAA;AAAA;AAAA,QAKA,mBAAmB,UAAU;AACzB,iBAAO,KAAK,iBAAiB,UAAU,QAAQ;AAAA,QACnD;AAAA,MACJ;AACA,cAAQ,aAAaA;AACrB,6BAAuB,oBAAI,QAAQ,GAAG,wBAAwB,oBAAI,QAAQ,GAAG,8BAA8B,SAASC,+BAA8B;AAC9I,eAAO,CAAC,YAAY;AAChB,cAAI,KAAK,iBAAiB,OAAO;AAC7B,iBAAK,QAAQ,KAAK,KAAK,UAAU,OAAO,CAAC;AAAA,UAC7C;AAAA,QACJ;AAAA,MACJ,GAAG,gCAAgC,SAASC,+BAA8B,SAAS;AAC/E,YAAI;AACJ,cAAM,WAAW,KAAK,uBAAuB,MAAM,sBAAsB,GAAG,EAAE,IAAI,QAAQ,WAAW,OAAO,QAAQ,OAAO,SAAS,KAAK,IAAI,UAAU,QAAQ,uBAAuB,MAAM,uBAAuB,KAAK,2BAA2B,EAAE,KAAK,IAAI,GAAG,KAAK,kBAAkB,QAAQ,aAAa,CAAC,CAAC;AAC/S,+BAAuB,MAAM,sBAAsB,GAAG,EAAE,IAAI,QAAQ,aAAa,OAAO;AACxF,gBAAQ,YAAY,KAAK,YAAY;AAAA,MACzC,GAAG,mBAAmB,SAASC,oBAAmB;AAC9C,aAAK,aAAa,UAAU,CAAC,YAAY;AACrC,cAAI,QAAQ,UAAU,oBAAoB,OAAO,aAAa;AAC1D,mCAAuB,MAAM,uBAAuB,KAAK,6BAA6B,EAAE,KAAK,MAAM,OAAO;AAAA,UAC9G,WACS,QAAQ,UAAU,oBAAoB,OAAO,cAAc,QAAQ,WAAW,oBAAoB,cAAc,SAAS;AAC9H,iBAAK,iBAAiB,QAAQ,IAAI;AAAA,UACtC;AAAA,QACJ,CAAC;AAAA,MACL;AAAA;AAAA;;;AClIA;AAAA;AAAA,UAAI,gBAAgB,WAAY;AAC/B,YAAI,OAAO,SAAS,YAAY,KAAM,QAAO;AAC7C,YAAI,OAAO,WAAW,YAAY,OAAQ,QAAO;AACjD,cAAM,IAAI,MAAM,iCAAiC;AAAA,MAClD;AAEA,aAAO,WAAW,WAAY;AAC7B,YAAI,KAAM,QAAO;AAKjB,YAAI,OAAO,eAAe,YAAY,WAAY,QAAO;AAKzD,YAAI;AACH,iBAAO,eAAe,OAAO,WAAW,cAAc;AAAA,YACrD,KAAK,WAAY;AAAE,qBAAO;AAAA,YAAM;AAAA,YAChC,cAAc;AAAA,UACf,CAAC;AAAA,QACF,SAAS,OAAO;AAGf,iBAAO,cAAc;AAAA,QACtB;AACA,YAAI;AAEH,cAAI,CAAC,WAAY,QAAO,cAAc;AACtC,iBAAO;AAAA,QACR,UAAE;AACD,iBAAO,OAAO,UAAU;AAAA,QACzB;AAAA,MACD,GAAG;AAAA;AAAA;;;AClCH;AAAA;AAAA;AAAA,QACE,MAAQ;AAAA,QACR,aAAe;AAAA,QACf,UAAY;AAAA,UACV;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,QACF;AAAA,QACA,QAAU;AAAA,QACV,cAAgB;AAAA,UACd;AAAA,QACF;AAAA,QACA,SAAW;AAAA,QACX,YAAc;AAAA,UACZ,MAAQ;AAAA,UACR,KAAO;AAAA,QACT;AAAA,QACA,UAAY;AAAA,QACZ,SAAW;AAAA,UACT,MAAQ;AAAA,QACV;AAAA,QACA,cAAgB;AAAA,UACd,YAAc;AAAA,UACd,OAAS;AAAA,UACT,WAAW;AAAA,UACX,wBAAwB;AAAA,UACxB,kBAAkB;AAAA,UAClB,OAAS;AAAA,QACX;AAAA,QACA,iBAAmB;AAAA,UACjB,gBAAgB;AAAA,UAChB,MAAQ;AAAA,UACR,eAAe;AAAA,UACf,kBAAkB;AAAA,UAClB,QAAU;AAAA,UACV,MAAQ;AAAA,QACV;AAAA,QACA,QAAU;AAAA,UACR,SAAW;AAAA,QACb;AAAA,QACA,SAAW;AAAA,UACT,MAAQ;AAAA,UACR,MAAQ;AAAA,QACV;AAAA,QACA,MAAQ;AAAA,QACR,aAAe;AAAA,UACb,KAAO;AAAA,QACT;AAAA,QACA,SAAW;AAAA,QACX,SAAW;AAAA,MACb;AAAA;AAAA;;;ACzDA;AAAA;AAAA,aAAO,UAAU,kBAA2B;AAAA;AAAA;;;ACA5C;AAAA;AAAA,UAAI;AACJ,UAAI,OAAO,eAAe,UAAU;AACnC,sBAAc;AAAA,MACf,OAAO;AACN,YAAI;AACH,wBAAc;AAAA,QACf,SAAS,OAAO;AAAA,QAChB,UAAE;AACD,cAAI,CAAC,eAAe,OAAO,WAAW,aAAa;AAAE,0BAAc;AAAA,UAAQ;AAC3E,cAAI,CAAC,aAAa;AAAE,kBAAM,IAAI,MAAM,iCAAiC;AAAA,UAAG;AAAA,QACzE;AAAA,MACD;AAEA,UAAI,kBAAkB,YAAY,aAAa,YAAY;AAC3D,UAAI,oBAAoB;AAMxB,eAAS,aAAa,KAAK,WAAW;AACrC,YAAI;AAEJ,YAAI,WAAW;AACd,4BAAkB,IAAI,gBAAgB,KAAK,SAAS;AAAA,QACrD,OACK;AACJ,4BAAkB,IAAI,gBAAgB,GAAG;AAAA,QAC1C;AASA,eAAO;AAAA,MACR;AACA,UAAI,iBAAiB;AACpB,SAAC,cAAc,QAAQ,WAAW,QAAQ,EAAE,QAAQ,SAAS,MAAM;AAClE,iBAAO,eAAe,cAAc,MAAM;AAAA,YACzC,KAAK,WAAW;AAAE,qBAAO,gBAAgB,IAAI;AAAA,YAAG;AAAA,UACjD,CAAC;AAAA,QACF,CAAC;AAAA,MACF;AAKA,aAAO,UAAU;AAAA,QACb,gBAAiB,kBAAkB,eAAe;AAAA,QAClD,WAAiB;AAAA,MACrB;AAAA;AAAA;;;ACrDA;AAAA;AAAA;AACA,aAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,cAAQ,aAAa;AACrB,UAAM,sBAAsB;AAC5B,UAAM,WAAW;AAEjB,UAAMC,aAAY,kBAAqB;AACvC,UAAMC,cAAN,cAAyB,SAAS,WAAW;AAAA;AAAA;AAAA;AAAA,QAIzC,QAAQ,UAAU,GAAG;AACjB,eAAK,iBAAiB;AACtB,gBAAM,SAAS,IAAID,WAAU,KAAK,SAAS,SAAS,CAAC;AACrD,iBAAO,SAAS,MAAM,KAAK,iBAAiB,QAAQ,IAAI;AACxD,iBAAO,YAAY,CAAC,YAAY;AAC5B,kBAAM,QAAQ,QAAQ,KAAK,KAAK,EAAE,MAAM,IAAI;AAC5C,uBAAW,QAAQ,OAAO;AACtB,kBAAI,KAAK,KAAK,GAAG;AACb,sBAAM,OAAO,KAAK,MAAM,IAAI;AAC5B,sBAAM,QAAQ,oBAAoB,mBAAmB,MAAM,IAAI;AAC/D,qBAAK,aAAa,QAAQ,KAAK;AAAA,cACnC;AAAA,YACJ;AAAA,UACJ;AACA,iBAAO,UAAU,MAAM,OAAO,MAAM;AACpC,iBAAO,UAAU,MAAM;AACnB,iBAAK,iBAAiB,QAAQ,KAAK;AACnC,gBAAI,KAAK,gBAAgB;AACrB;AAAA,YACJ;AACA,uBAAW,MAAM;AACb,mBAAK,QAAQ;AAAA,YACjB,GAAG,GAAI;AAAA,UACX;AAAA,QACJ;AAAA,MACJ;AACA,cAAQ,aAAaC;AAAA;AAAA;;;ACrCrB;AAAA;AAAA;AACA,aAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,cAAQ,aAAa,QAAQ,eAAe;AAC5C,UAAM,sBAAsB;AAC5B,aAAO,eAAe,SAAS,gBAAgB,EAAE,YAAY,MAAM,KAAK,WAAY;AAAE,eAAO,oBAAoB;AAAA,MAAc,EAAE,CAAC;AAClI,UAAM,WAAW;AACjB,UAAM,SAAS;AACf,UAAMC,cAAa,OAAO,WAAW,cAAc,OAAO,aAAa,SAAS;AAChF,cAAQ,aAAaA;AAAA;AAAA;;;ACRrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAA,iCAAyB;AAIlB,MAAM,YAAN,MAAgB;AAAA,IAMnB,YAAY,QAAyB;AAFrC,WAAQ,UAAiC;AAGrC,WAAK,aAAa,OAAO;AAEzB,WAAK,SAAS,IAAI,oCAAW,OAAO,QAAQ;AAE5C,YAAM,cAAc;AAAA,QAChB,KAAK,OAAO;AAAA,QACZ,KAAK,OAAO;AAAA,QACZ,KAAK,OAAO;AAAA,QACZ,KAAK,OAAO;AAAA,MAChB;AAEA,WAAK,UAAU,KAAK,OAAO,cAAc,QAAQ,OAAO,SAAS,IAAI,WAAW;AAChF,WAAK,QAAQ,KAAK;AAElB,WAAK,QAAQ,UAAU,CAAC,QAAgB,YAAqB;AACzD,aAAK,UAAU,OAAwB;AAAA,MAC3C,CAAC;AAAA,IACL;AAAA,IAEA,IAAI,YAAoB;AACpB,aAAO,KAAK;AAAA,IAChB;AAAA,IAEA,UAAgB;AACZ,WAAK,OAAO,QAAQ;AAAA,IACxB;AAAA,IAEA,aAAmB;AACf,WAAK,QAAQ,MAAM;AACnB,WAAK,OAAO,WAAW;AAAA,IAC3B;AAAA,IAEA,KAAK,KAA0B;AAC3B,WAAK,QAAQ,YAAY,IAAI,GAAG,GAAG;AAAA,IACvC;AAAA,IAEA,UAAU,SAA+B;AACrC,WAAK,UAAU;AAAA,IACnB;AAAA,IAEA,cAAc,SAAmC;AAC7C,WAAK,QAAQ,qBAAqB,OAAO;AAAA,IAC7C;AAAA,EACJ;;;ACpDA,MAAM,SAAmC;AAAA,IACrC,OAAO;AAAA,IACP,MAAM;AAAA,IACN,MAAM;AAAA,IACN,OAAO;AAAA,EACX;AAEA,MAAM,aAAN,MAAiB;AAAA,IAAjB;AACI,WAAQ,UAAU;AAClB,WAAQ,QAAkB;AAAA;AAAA,IAE1B,UAAU,QAAqC;AAC3C,UAAI,OAAO,YAAY,OAAW,MAAK,UAAU,OAAO;AACxD,UAAI,OAAO,UAAU,OAAW,MAAK,QAAQ,OAAO;AAAA,IACxD;AAAA,IAEA,MAAM,KAAa,YAAoB,MAAuB;AAC1D,WAAK,IAAI,SAAS,KAAK,SAAS,IAAI;AAAA,IACxC;AAAA,IAEA,KAAK,KAAa,YAAoB,MAAuB;AACzD,WAAK,IAAI,QAAQ,KAAK,SAAS,IAAI;AAAA,IACvC;AAAA,IAEA,KAAK,KAAa,YAAoB,MAAuB;AACzD,WAAK,IAAI,QAAQ,KAAK,SAAS,IAAI;AAAA,IACvC;AAAA,IAEA,MAAM,KAAa,YAAoB,MAAuB;AAC1D,WAAK,IAAI,SAAS,KAAK,SAAS,IAAI;AAAA,IACxC;AAAA,IAEQ,IAAI,OAAiB,KAAa,SAAiB,MAAuB;AAC9E,UAAI,CAAC,KAAK,QAAS;AACnB,UAAI,OAAO,KAAK,IAAI,OAAO,KAAK,KAAK,EAAG;AAExC,YAAM,SAAS,WAAW,GAAG;AAC7B,YAAM,KAAK,QAAQ,KAAK,KAAK,QAAQ;AAErC,UAAI,KAAK,SAAS,GAAG;AACjB,WAAG,QAAQ,SAAS,GAAG,IAAI;AAAA,MAC/B,OAAO;AACH,WAAG,QAAQ,OAAO;AAAA,MACtB;AAAA,IACJ;AAAA,EACJ;AAEO,MAAM,SAAS,IAAI,WAAW;;;AC9C9B,MAAM,UAAN,MAAc;AAAA,IAOjB,YAAY,MAAY,WAA6B;AAJrD,WAAQ,eAAe,oBAAI,QAAkD;AAC7E,WAAQ,cAAc,oBAAI,QAAqC;AAC/D,WAAQ,cAAc,oBAAI,QAA8C;AAGpE,WAAK,OAAO;AACZ,WAAK,YAAY;AAAA,IACrB;AAAA,IAEA,MAAM,SAAwB;AAC1B,YAAM,SAAS,CAAC,GAAG,OAAO,EAAE,KAAK,CAAC,GAAG,MAAM,EAAE,MAAM,EAAE,GAAG;AACxD,iBAAW,SAAS,QAAQ;AACxB,aAAK,WAAW,KAAK;AAAA,MACzB;AAAA,IACJ;AAAA,IAEQ,WAAW,OAAoB;AACnC,YAAM,OAAO,KAAK,YAAY,MAAM,IAAI;AACxC,UAAI,CAAC,MAAM;AACP,eAAO,KAAK,WAAW,0BAA0B,MAAM,IAAI;AAC3D;AAAA,MACJ;AAEA,cAAQ,MAAM,IAAI;AAAA,QACd,KAAK;AACD,eAAK,QAAQ,MAAM,MAAM,KAAe;AACxC;AAAA,QACJ,KAAK;AACD,eAAK,WAAW,MAAM,MAAM,KAAe;AAC3C;AAAA,QACJ,KAAK;AACD,eAAK,QAAQ,MAAiB,MAAM,KAAiC;AACrE;AAAA,QACJ,KAAK;AACD,eAAK,QAAQ,MAAiB,MAAM,IAAK;AACzC;AAAA,QACJ,KAAK;AACD,eAAK,SAAS,MAAqB,MAAM,KAA+B;AACxE;AAAA,QACJ,KAAK;AACD,eAAK,SAAS,MAAqB,MAAM,IAAK;AAC9C;AAAA,QACJ,KAAK;AACD,eAAK,aAAa,MAA0B,MAAM,UAAW,MAAM,MAAO,MAAM,KAAe;AAC/F;AAAA,QACJ,KAAK;AACD,eAAK,aAAa,MAA0B,MAAM,UAAW,MAAM,IAAK;AACxE;AAAA,QACJ,KAAK;AACD,eAAK,YAAY,MAAiB,MAAM,KAAsB;AAC9D;AAAA,QACJ,KAAK;AACD,eAAK,UAAU,MAAiB,MAAM,KAAmB;AACzD;AAAA,QACJ,KAAK;AACD,eAAK,UAAU,IAAe;AAC9B;AAAA,QACJ,KAAK;AACD,eAAK,UAAU,MAA0B,MAAM,KAAmB;AAClE;AAAA,QACJ,KAAK;AACD,eAAK,UAAU,IAAwB;AACvC;AAAA,QACJ,KAAK;AACD,eAAK,UAAU,MAAM,MAAM,OAAiB,IAAe;AAC3D;AAAA,QACJ,KAAK;AACD,eAAK,UAAU,YAAY,MAAM,KAAe;AAChD;AAAA,QACJ,KAAK;AACD,eAAK,YAAY,MAAM,MAAM,KAAuB;AACpD;AAAA,QACJ,KAAK;AACD,eAAK,SAAS,MAAM,MAAM,OAAQ,MAAM,KAAuB;AAC/D;AAAA,QACJ,KAAK;AACD,eAAK,SAAS,MAAM,MAAM,KAAM;AAChC;AAAA,QACJ,KAAK;AACD,eAAK,UAAU,MAAM,MAAM,KAA8C;AACzE;AAAA,MACR;AAAA,IACJ;AAAA,IAEQ,YAAY,MAA6B;AAC7C,UAAI,OAAoB,KAAK;AAC7B,iBAAW,SAAS,MAAM;AACtB,YAAI,CAAC,KAAM,QAAO;AAClB,eAAO,KAAK,WAAW,KAAK,KAAK;AAAA,MACrC;AACA,aAAO;AAAA,IACX;AAAA,IAEQ,QAAQ,MAAY,MAAoB;AAC5C,WAAK,cAAc;AAAA,IACvB;AAAA,IAEQ,WAAW,MAAY,MAAoB;AAC/C,WAAK,cAAc;AAAA,IACvB;AAAA,IAEQ,QAAQ,IAAa,OAAuC;AAChE,aAAO,KAAK,WAAW,WAAW,IAAI,KAAK;AAC3C,iBAAW,CAAC,MAAM,MAAM,KAAK,OAAO,QAAQ,KAAK,GAAG;AAChD,YAAI,SAAS,SAAS;AAClB,aAAG,YAAY,OAAO,KAAK,GAAG;AAAA,QAClC,WAAW,SAAS,WAAW,cAAc,kBAAkB;AAC3D,aAAG,QAAQ,OAAO,CAAC,KAAK;AAAA,QAC5B,WAAW,SAAS,aAAa,cAAc,kBAAkB;AAC7D,aAAG,UAAU,OAAO,SAAS,KAAK,OAAO,CAAC,MAAM;AAAA,QACpD,WAAW,SAAS,cAAc,cAAc,mBAAmB;AAC/D,aAAG,WAAW,OAAO,SAAS,KAAK,OAAO,CAAC,MAAM;AAAA,QACrD,WAAW,OAAO,WAAW,GAAG;AAC5B,aAAG,aAAa,MAAM,EAAE;AAAA,QAC5B,OAAO;AACH,aAAG,aAAa,MAAM,OAAO,KAAK,GAAG,CAAC;AAAA,QAC1C;AAAA,MACJ;AAAA,IACJ;AAAA,IAEQ,QAAQ,IAAa,MAAoB;AAC7C,aAAO,KAAK,WAAW,WAAW,IAAI,IAAI;AAC1C,UAAI,SAAS,WAAW,cAAc,kBAAkB;AACpD,WAAG,QAAQ;AAAA,MACf,WAAW,SAAS,aAAa,cAAc,kBAAkB;AAC7D,WAAG,UAAU;AAAA,MACjB,WAAW,SAAS,cAAc,cAAc,mBAAmB;AAC/D,WAAG,WAAW;AAAA,MAClB,OAAO;AACH,WAAG,gBAAgB,IAAI;AAAA,MAC3B;AAAA,IACJ;AAAA,IAEQ,SAAS,IAAiB,QAAsC;AACpE,aAAO,KAAK,WAAW,YAAY,IAAI,MAAM;AAC7C,iBAAW,CAAC,MAAM,KAAK,KAAK,OAAO,QAAQ,MAAM,GAAG;AAChD,WAAG,MAAM,YAAY,MAAM,KAAK;AAAA,MACpC;AAAA,IACJ;AAAA,IAEQ,SAAS,IAAiB,MAAoB;AAClD,aAAO,KAAK,WAAW,YAAY,IAAI,IAAI;AAC3C,SAAG,MAAM,eAAe,IAAI;AAAA,IAChC;AAAA,IAEQ,aAAa,SAA2B,UAAkB,MAAc,OAAqB;AACjG,aAAO,KAAK,WAAW,gBAAgB,SAAS,UAAU,MAAM,KAAK;AACrE,YAAM,QAAQ,QAAQ;AACtB,UAAI,CAAC,MAAO;AAEZ,YAAM,OAAO,KAAK,iBAAiB,OAAO,QAAQ;AAClD,UAAI,MAAM;AACN,aAAK,MAAM,YAAY,MAAM,KAAK;AAAA,MACtC;AAAA,IACJ;AAAA,IAEQ,aAAa,SAA2B,UAAkB,MAAoB;AAClF,aAAO,KAAK,WAAW,gBAAgB,SAAS,UAAU,IAAI;AAC9D,YAAM,QAAQ,QAAQ;AACtB,UAAI,CAAC,MAAO;AAEZ,YAAM,OAAO,KAAK,SAAS,OAAO,QAAQ;AAC1C,UAAI,MAAM;AACN,aAAK,MAAM,eAAe,IAAI;AAAA,MAClC;AAAA,IACJ;AAAA,IAEQ,SAAS,OAAsB,UAAuC;AAC1E,eAAS,IAAI,GAAG,IAAI,MAAM,SAAS,QAAQ,KAAK;AAC5C,cAAM,OAAO,MAAM,SAAS,CAAC;AAC7B,YAAI,gBAAgB,gBAAgB,KAAK,iBAAiB,UAAU;AAChE,iBAAO;AAAA,QACX;AAAA,MACJ;AACA,aAAO;AAAA,IACX;AAAA,IAEQ,iBAAiB,OAAsB,UAAuC;AAClF,UAAI,OAAO,KAAK,SAAS,OAAO,QAAQ;AACxC,UAAI,CAAC,MAAM;AACP,cAAM,QAAQ,MAAM,WAAW,GAAG,QAAQ,OAAO,MAAM,SAAS,MAAM;AACtE,eAAO,MAAM,SAAS,KAAK;AAAA,MAC/B;AACA,aAAO;AAAA,IACX;AAAA,IAEQ,YAAY,IAAa,UAA+B;AAC5D,aAAO,KAAK,WAAW,eAAe,IAAI,QAAQ;AAClD,YAAM,cAAc,KAAK,aAAa,IAAI,EAAE;AAC5C,UAAI,aAAa;AACb,mBAAW,CAAC,OAAO,QAAQ,KAAK,aAAa;AACzC,aAAG,oBAAoB,OAAO,QAAQ;AAAA,QAC1C;AAAA,MACJ;AAEA,YAAM,cAAc,oBAAI,IAAgC;AACxD,iBAAW,QAAQ,UAAU;AACzB,cAAM,SAAS,KAAK,UAAU,CAAC;AAC/B,cAAM,WAAW,CAAC,MAAa;AAC3B,cAAI,CAAC,OAAO,SAAS,cAAc,KAAK,EAAE,YAAY;AAClD,cAAE,eAAe;AAAA,UACrB;AAEA,gBAAM,OAAO,KAAK,iBAAiB,GAAG,KAAK,SAAS,CAAC,CAAC;AACtD,eAAK,UAAU,QAAQ,KAAK,OAAO,KAAK,SAAS,IAAI;AAErD,cAAI,CAAC,OAAO,SAAS,QAAQ,GAAG;AAC5B,cAAE,gBAAgB;AAAA,UACtB;AAAA,QACJ;AACA,WAAG,iBAAiB,KAAK,OAAO,QAAQ;AACxC,oBAAY,IAAI,KAAK,OAAO,QAAQ;AAAA,MACxC;AACA,WAAK,aAAa,IAAI,IAAI,WAAW;AAAA,IACzC;AAAA,IAEQ,iBAAiB,GAAU,OAAiB,IAAuC;AACvF,aAAO,KAAK,WAAW,oBAAoB,GAAG,OAAO,EAAE;AACvD,aAAO,OAAO,YAAY,MAAM,IAAI,UAAQ,CAAC,MAAM,KAAK,YAAY,GAAG,MAAM,EAAE,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,GAAG,KAAK,MAAM,UAAU,MAAS,CAAC;AAAA,IAClI;AAAA,IAEQ,YAAY,GAAU,MAAc,IAAuB;AAC/D,YAAM,WAAW,KAAK,MAAM,GAAG,EAAE,IAAI,OAAK,EAAE,KAAK,CAAC,EAAE,OAAO,OAAO;AAClE,UAAI,SAAS,WAAW,EAAG,QAAO;AAClC,YAAM,OAAO,SAAS,MAAM;AAC5B,UAAI;AACJ,cAAQ,MAAM;AAAA,QACV,KAAK;AACD,oBAAU;AACV;AAAA,QACJ,KAAK;AACD,oBAAU,EAAE;AACZ;AAAA,QACJ,KAAK;AACD,oBAAU,EAAE;AACZ;AAAA,QACJ,KAAK;AAAA,QACL,KAAK;AACD,oBAAU,OAAO,EAAE,yBAAyB,UAAU,EAAE,gBAAgB;AACxE;AAAA,QACJ;AACI,oBAAW,EAAyC,IAAI;AAAA,MAChE;AAEA,iBAAW,WAAW,UAAU;AAC5B,YAAI,WAAW,KAAM,QAAO;AAC5B,YAAI;AACA,oBAAW,QAAoC,OAAO;AAAA,QAC1D,QAAQ;AACJ,iBAAO;AAAA,QACX;AAAA,MACJ;AAEA,aAAO,KAAK,eAAe,OAAO;AAAA,IACtC;AAAA,IAEQ,eAAe,OAAyB;AAC5C,UAAI,UAAU,QAAQ,UAAU,OAAW,QAAO;AAElD,YAAM,OAAO,OAAO;AACpB,UAAI,SAAS,YAAY,SAAS,YAAY,SAAS,UAAW,QAAO;AAEzE,UAAI,MAAM,QAAQ,KAAK,GAAG;AACtB,cAAM,SAAS,MAAM,IAAI,OAAK,KAAK,eAAe,CAAC,CAAC,EAAE,OAAO,OAAK,MAAM,MAAS;AACjF,eAAO,OAAO,SAAS,IAAI,SAAS;AAAA,MACxC;AAEA,UAAI,iBAAiB,KAAM,QAAO,MAAM,YAAY;AACpD,UAAI,iBAAiB,aAAc,QAAO,MAAM,KAAK,KAAK;AAC1D,UAAI,iBAAiB,KAAM,QAAO;AAElC,UAAI;AACA,eAAO,KAAK,MAAM,KAAK,UAAU,KAAK,CAAC;AAAA,MAC3C,QAAQ;AACJ,eAAO;AAAA,MACX;AAAA,IACJ;AAAA,IAEQ,UAAU,IAAa,MAAwB;AACnD,aAAO,KAAK,WAAW,aAAa,IAAI,IAAI;AAC5C,WAAK,UAAU,EAAE;AAEjB,YAAM,WAAW,CAAC,MAAa;AAC3B,UAAE,eAAe;AACjB,aAAK,UAAU,SAAS,IAAI;AAAA,MAChC;AACA,SAAG,iBAAiB,SAAS,QAAQ;AACrC,WAAK,YAAY,IAAI,IAAI,QAAQ;AAAA,IACrC;AAAA,IAEQ,UAAU,IAAmB;AACjC,aAAO,KAAK,WAAW,aAAa,EAAE;AACtC,YAAM,WAAW,KAAK,YAAY,IAAI,EAAE;AACxC,UAAI,UAAU;AACV,WAAG,oBAAoB,SAAS,QAAQ;AACxC,aAAK,YAAY,OAAO,EAAE;AAAA,MAC9B;AAAA,IACJ;AAAA,IAEQ,UAAU,IAAsB,MAAwB;AAC5D,aAAO,KAAK,WAAW,aAAa,IAAI,IAAI;AAC5C,WAAK,UAAU,EAAE;AAEjB,UAAI,KAAK,UAAU;AACf,WAAG,WAAW;AAAA,MAClB;AACA,UAAI,KAAK,UAAU,KAAK,OAAO,SAAS,GAAG;AACvC,WAAG,SAAS,KAAK,OAAO,KAAK,GAAG;AAAA,MACpC;AAEA,YAAM,WAAW,MAAM;AACnB,YAAI,GAAG,SAAS,GAAG,MAAM,SAAS,GAAG;AACjC,eAAK,UAAU,SAAS,MAAM,GAAG,KAAK;AAAA,QAC1C;AAAA,MACJ;AACA,SAAG,iBAAiB,UAAU,QAAQ;AACtC,WAAK,YAAY,IAAI,IAAI,QAAQ;AAAA,IACrC;AAAA,IAEQ,UAAU,IAA4B;AAC1C,aAAO,KAAK,WAAW,aAAa,EAAE;AACtC,YAAM,WAAW,KAAK,YAAY,IAAI,EAAE;AACxC,UAAI,UAAU;AACV,WAAG,oBAAoB,UAAU,QAAQ;AACzC,aAAK,YAAY,OAAO,EAAE;AAAA,MAC9B;AACA,SAAG,WAAW;AACd,SAAG,SAAS;AAAA,IAChB;AAAA,IAEQ,YAAY,SAAe,aAAmC;AAClE,aAAO,KAAK,WAAW,eAAe,SAAS,WAAW;AAC1D,YAAM,UAAU,KAAK,WAAW,WAAW;AAC3C,UAAI,WAAW,QAAQ,YAAY;AAC/B,gBAAQ,WAAW,aAAa,SAAS,OAAO;AAAA,MACpD;AAAA,IACJ;AAAA,IAEQ,SAAS,QAAc,OAAe,UAAgC;AAC1E,aAAO,KAAK,WAAW,YAAY,QAAQ,OAAO,QAAQ;AAC1D,YAAM,UAAU,KAAK,WAAW,QAAQ;AACxC,UAAI,CAAC,QAAS;AAEd,YAAM,WAAW,OAAO,WAAW,KAAK,KAAK;AAC7C,aAAO,aAAa,SAAS,QAAQ;AAAA,IACzC;AAAA,IAEQ,SAAS,QAAc,OAAqB;AAChD,aAAO,KAAK,WAAW,YAAY,QAAQ,KAAK;AAChD,YAAM,QAAQ,OAAO,WAAW,KAAK;AACrC,UAAI,OAAO;AACP,eAAO,YAAY,KAAK;AAAA,MAC5B;AAAA,IACJ;AAAA,IAEQ,UAAU,QAAc,MAAmD;AAC/E,aAAO,KAAK,WAAW,aAAa,QAAQ,IAAI;AAChD,YAAM,QAAQ,OAAO,WAAW,KAAK,SAAS;AAC9C,UAAI,CAAC,MAAO;AAEZ,aAAO,YAAY,KAAK;AACxB,YAAM,WAAW,OAAO,WAAW,KAAK,MAAM,KAAK;AACnD,aAAO,aAAa,OAAO,QAAQ;AAAA,IACvC;AAAA,IAEQ,WAAW,MAAmC;AAClD,aAAO,KAAK,WAAW,cAAc,IAAI;AACzC,UAAI,KAAK,SAAS,QAAW;AACzB,eAAO,SAAS,eAAe,KAAK,IAAI;AAAA,MAC5C;AAEA,UAAI,KAAK,YAAY,QAAW;AAC5B,eAAO,SAAS,cAAc,KAAK,OAAO;AAAA,MAC9C;AAEA,UAAI,CAAC,KAAK,IAAK,QAAO;AAEtB,YAAM,KAAK,SAAS,cAAc,KAAK,GAAG;AAE1C,UAAI,KAAK,OAAO;AACZ,aAAK,QAAQ,IAAI,KAAK,KAAK;AAAA,MAC/B;AAEA,UAAI,KAAK,OAAO;AACZ,aAAK,SAAS,IAAmB,KAAK,KAAK;AAAA,MAC/C;AAEA,UAAI,KAAK,YAAY,KAAK,SAAS,SAAS,GAAG;AAC3C,aAAK,YAAY,IAAI,KAAK,QAAQ;AAAA,MACtC;AAEA,UAAI,KAAK,QAAQ;AACb,aAAK,UAAU,IAAI,KAAK,MAAM;AAAA,MAClC;AAEA,UAAI,KAAK,UAAU,cAAc,kBAAkB;AAC/C,aAAK,UAAU,IAAI,KAAK,MAAM;AAAA,MAClC;AAEA,UAAI,KAAK,OAAO;AACZ,aAAK,UAAU,MAAM,KAAK,OAAO,EAAE;AAAA,MACvC;AAEA,UAAI,KAAK,YAAY;AACjB,WAAG,YAAY,KAAK;AAAA,MACxB,WAAW,KAAK,UAAU;AACtB,mBAAW,SAAS,KAAK,UAAU;AAC/B,gBAAM,YAAY,KAAK,WAAW,KAAK;AACvC,cAAI,WAAW;AACX,eAAG,YAAY,SAAS;AAAA,UAC5B;AAAA,QACJ;AAAA,MACJ;AAEA,aAAO;AAAA,IACX;AAAA,EACJ;;;ACpaO,MAAM,SAAN,MAAa;AAAA,IAGhB,YAAY,OAAoB;AAC5B,WAAK,QAAQ;AACb,aAAO,iBAAiB,YAAY,MAAM,KAAK,eAAe,CAAC;AAAA,IACnE;AAAA,IAEA,SAAS,MAAwB;AAC7B,YAAM,OAAO,KAAK,aAAa,OAAO,SAAS;AAC/C,YAAM,QAAQ,KAAK,UAAU,SAAY,KAAK,QAAQ,OAAO,SAAS;AACtE,YAAM,OAAO,KAAK,SAAS,SAAY,KAAK,OAAO,OAAO,SAAS;AAEnE,YAAM,aAAa,MAAM,WAAW,GAAG,IAAI,MAAM,UAAU,CAAC,IAAI;AAChE,YAAM,YAAY,KAAK,WAAW,GAAG,IAAI,KAAK,UAAU,CAAC,IAAI;AAC7D,YAAM,MAAM,QAAQ,aAAa,MAAM,aAAa,OAAO,YAAY,MAAM,YAAY;AAEzF,UAAI,KAAK,SAAS;AACd,eAAO,QAAQ,aAAa,CAAC,GAAG,IAAI,GAAG;AAAA,MAC3C,OAAO;AACH,eAAO,QAAQ,UAAU,CAAC,GAAG,IAAI,GAAG;AAAA,MACxC;AAEA,WAAK,MAAM,OAAO,MAAM,YAAY,SAAS;AAAA,IACjD;AAAA,IAEQ,iBAAuB;AAC3B,YAAM,OAAO,OAAO,SAAS;AAC7B,YAAM,QAAQ,OAAO,SAAS;AAC9B,YAAM,OAAO,OAAO,SAAS;AAE7B,YAAM,aAAa,MAAM,WAAW,GAAG,IAAI,MAAM,UAAU,CAAC,IAAI;AAChE,YAAM,YAAY,KAAK,WAAW,GAAG,IAAI,KAAK,UAAU,CAAC,IAAI;AAC7D,WAAK,MAAM,OAAO,MAAM,YAAY,SAAS;AAAA,IACjD;AAAA,IAEA,UAAgB;AACZ,aAAO,oBAAoB,YAAY,MAAM,KAAK,eAAe,CAAC;AAAA,IACtE;AAAA,EACJ;;;ACjCO,MAAM,WAAN,MAAe;AAAA,IAMlB,YAAY,QAAwB;AAFpC,WAAQ,SAAS,oBAAI,IAA0B;AAG3C,WAAK,WAAW,OAAO,SAAS,QAAQ,QAAQ,EAAE;AAClD,WAAK,YAAY,OAAO;AACxB,WAAK,YAAY,OAAO;AAAA,IAC5B;AAAA,IAEA,OAAO,MAAkB,OAAiB,OAAgC;AACtE,YAAM,WAAW,KAAK;AAEtB,UAAI,MAAM,WAAW,GAAG;AACpB,aAAK,KAAK,EAAC,GAAG,UAAU,IAAI,aAAa,IAAI,SAAQ,CAAC;AACtD;AAAA,MACJ;AAEA,YAAM,OAAO,MAAM,CAAC;AAEpB,UAAI,KAAK,WAAW,KAAK,UAAU,KAAK,KAAK,OAAO,KAAK,SAAS;AAC9D,aAAK,KAAK;AAAA,UACN,GAAG;AAAA,UACH,IAAI;AAAA,UACJ,IAAI;AAAA,UACJ,OAAO,8BAA8B,KAAK,OAAO;AAAA,QACrD,CAAC;AACD,YAAI,MAAO,OAAM,QAAQ;AACzB;AAAA,MACJ;AAEA,WAAK,KAAK;AAAA,QACN,GAAG;AAAA,QACH,IAAI;AAAA,QACJ,IAAI;AAAA,QACJ,MAAM,EAAC,MAAM,KAAK,MAAM,MAAM,KAAK,MAAM,MAAM,KAAK,KAAI;AAAA,MAC5D,CAAC;AAED,WAAK,YAAY,UAAU,MAAM,SAAS,IAAI;AAAA,IAClD;AAAA,IAEA,OAAO,UAAwB;AAC3B,YAAM,SAAS,KAAK,OAAO,IAAI,QAAQ;AACvC,UAAI,QAAQ;AACR,eAAO,IAAI,MAAM;AACjB,YAAI,OAAO,MAAO,QAAO,MAAM,QAAQ;AACvC,aAAK,OAAO,OAAO,QAAQ;AAAA,MAC/B;AAAA,IACJ;AAAA,IAEQ,YAAY,UAAkB,MAAY,OAAsC;AACpF,WAAK,OAAO,QAAQ;AAEpB,YAAM,SAAS,GAAG,KAAK,QAAQ,IAAI,mBAAmB,KAAK,SAAS,CAAC,IAAI,mBAAmB,QAAQ,CAAC;AACrG,YAAM,MAAM,IAAI,eAAe;AAE/B,UAAI,OAAO,aAAa,CAAC,UAAU;AAC/B,cAAM,SAAS,MAAM;AACrB,cAAM,QAAQ,MAAM,mBAAmB,MAAM,QAAQ,KAAK;AAC1D,aAAK,KAAK,EAAC,GAAG,UAAU,IAAI,YAAY,IAAI,UAAU,QAAQ,MAAK,CAAC;AAAA,MACxE;AAEA,UAAI,UAAU,MAAM;AAChB,aAAK,OAAO,OAAO,QAAQ;AAC3B,aAAK,KAAK,EAAC,GAAG,UAAU,IAAI,SAAS,IAAI,UAAU,OAAO,gBAAe,CAAC;AAAA,MAC9E;AAEA,UAAI,UAAU,MAAM;AAChB,aAAK,OAAO,OAAO,QAAQ;AAC3B,aAAK,KAAK,EAAC,GAAG,UAAU,IAAI,aAAa,IAAI,SAAQ,CAAC;AAAA,MAC1D;AAEA,UAAI,SAAS,MAAM;AACf,aAAK,OAAO,OAAO,QAAQ;AAC3B,YAAI,IAAI,SAAS,OAAO,IAAI,UAAU,KAAK;AACvC,eAAK,KAAK,EAAC,GAAG,UAAU,IAAI,SAAS,IAAI,UAAU,OAAO,kBAAkB,IAAI,MAAM,IAAG,CAAC;AAAA,QAC9F,OAAO;AACH,eAAK,KAAK,EAAC,GAAG,UAAU,IAAI,YAAY,IAAI,UAAU,QAAQ,KAAK,MAAM,OAAO,KAAK,KAAI,CAAC;AAC1F,cAAI,MAAO,OAAM,QAAQ;AAAA,QAC7B;AAAA,MACJ;AAEA,YAAM,OAAO,IAAI,SAAS;AAC1B,WAAK,OAAO,QAAQ,IAAI;AACxB,UAAI,KAAK,QAAQ,QAAQ,IAAI;AAC7B,UAAI,KAAK,IAAI;AAEb,WAAK,OAAO,IAAI,UAAU,EAAC,KAAK,MAAK,CAAC;AAAA,IAC1C;AAAA,IAEQ,KAAK,KAA0B;AACnC,WAAK,UAAU,GAAG;AAAA,IACtB;AAAA,EACJ;;;AC5FO,MAAM,iBAAN,MAAqB;AAAA,IAKxB,YAAY,QAA8B;AACtC,WAAK,YAAY,OAAO;AACxB,WAAK,aAAa,OAAO;AACzB,WAAK,gBAAgB,OAAO;AAAA,IAChC;AAAA,IAEA,QAAQ,SAAyB;AAC7B,UAAI,CAAC,WAAW,QAAQ,WAAW,EAAG;AAEtC,iBAAW,UAAU,SAAS;AAC1B,aAAK,WAAW,MAAM;AAAA,MAC1B;AAAA,IACJ;AAAA,IAEA,iBAAiB,KAAuB;AACpC,YAAM,KAAK,KAAK,WAAW,IAAI,GAAG;AAElC,UAAI,CAAC,IAAI;AACL,aAAK,gBAAgB,IAAI,IAAI,QAAW,QAAW,kBAAkB,IAAI,GAAG,EAAE;AAC9E;AAAA,MACJ;AAEA,UAAI;AACA,YAAI,IAAI,SAAS,IAAI,MAAM,SAAS,GAAG;AACnC,gBAAM,SAAS,KAAK,UAAU,IAAI,IAAI,KAAK;AAC3C,eAAK,gBAAgB,IAAI,IAAI,QAAQ,QAAW,MAAS;AAAA,QAC7D,WAAW,IAAI,QAAQ;AACnB,gBAAM,SAAS,KAAK,WAAW,IAAI,IAAI,QAAQ,IAAI,QAAQ,CAAC,CAAC;AAC7D,eAAK,gBAAgB,IAAI,IAAI,QAAW,QAAQ,MAAS;AAAA,QAC7D,OAAO;AACH,eAAK,gBAAgB,IAAI,IAAI,QAAW,QAAW,8BAA8B;AAAA,QACrF;AAAA,MACJ,SAAS,GAAG;AACR,cAAM,QAAQ,aAAa,QAAQ,EAAE,UAAU,OAAO,CAAC;AACvD,aAAK,gBAAgB,IAAI,IAAI,QAAW,QAAW,KAAK;AAAA,MAC5D;AAAA,IACJ;AAAA,IAEQ,WAAW,QAAsB;AACrC,cAAQ,OAAO,MAAM;AAAA,QACjB,KAAK;AACD,eAAK,iBAAiB,MAAM;AAC5B;AAAA,QACJ,KAAK;AACD,eAAK,kBAAkB,MAAM;AAC7B;AAAA,MACR;AAAA,IACJ;AAAA,IAEQ,iBAAiB,QAA+B;AACpD,YAAM,KAAK,KAAK,WAAW,OAAO,GAAG;AACrC,UAAI,CAAC,IAAI;AACL,eAAO,KAAK,WAAW,iBAAiB,OAAO,GAAG;AAClD;AAAA,MACJ;AAEA,UAAI;AACA,gBAAQ,OAAO,MAAM;AAAA,UACjB,KAAK;AACD,iBAAK,YAAY,IAAI,MAAM;AAC3B;AAAA,UACJ,KAAK;AACD,iBAAK,WAAW,IAAI,MAAM;AAC1B;AAAA,UACJ,KAAK;AACD,iBAAK,cAAc,IAAI,MAAM;AAC7B;AAAA,UACJ,KAAK;AACD,iBAAK,aAAa,IAAI,MAAM;AAC5B;AAAA,UACJ,KAAK;AACD,iBAAK,cAAc,IAAI,MAAM;AAC7B;AAAA,UACJ;AACI,mBAAO,KAAK,WAAW,gBAAgB,OAAO,IAAI;AAAA,QAC1D;AAAA,MACJ,SAAS,GAAG;AACR,eAAO,MAAM,WAAW,oBAAoB,CAAC;AAAA,MACjD;AAAA,IACJ;AAAA,IAEQ,YAAY,IAAa,QAA+B;AAC5D,UAAI,CAAC,OAAO,OAAQ;AAEpB,YAAM,SAAU,GAA0C,OAAO,MAAM;AACvE,UAAI,OAAO,WAAW,YAAY;AAC9B,eAAO,MAAM,IAAI,OAAO,QAAQ,CAAC,CAAC;AAAA,MACtC,OAAO;AACH,eAAO,KAAK,WAAW,oBAAoB,OAAO,MAAM;AAAA,MAC5D;AAAA,IACJ;AAAA,IAEQ,WAAW,IAAa,QAA+B;AAC3D,UAAI,CAAC,OAAO,KAAM;AAClB,MAAC,GAA0C,OAAO,IAAI,IAAI,OAAO;AAAA,IACrE;AAAA,IAEQ,cAAc,IAAa,QAA+B;AAC9D,UAAI,CAAC,OAAO,KAAM;AAClB,YAAM,UAAW,GAA0C,OAAO,IAAI;AACtE,MAAC,GAA0C,OAAO,IAAI,IAAI,CAAC;AAAA,IAC/D;AAAA,IAEQ,aAAa,IAAa,QAA+B;AAC7D,UAAI,CAAC,OAAO,MAAO;AAEnB,UAAI,OAAO,OAAO,MAAM;AACpB,WAAG,UAAU,IAAI,OAAO,KAAK;AAAA,MACjC,WAAW,OAAO,OAAO,OAAO;AAC5B,WAAG,UAAU,OAAO,OAAO,KAAK;AAAA,MACpC,OAAO;AACH,WAAG,UAAU,OAAO,OAAO,KAAK;AAAA,MACpC;AAAA,IACJ;AAAA,IAEQ,cAAc,IAAa,QAA+B;AAC9D,UAAI,CAAC,GAAG,eAAgB;AAExB,YAAM,OAA8B,CAAC;AACrC,UAAI,OAAO,SAAU,MAAK,WAAW,OAAO;AAC5C,UAAI,OAAO,MAAO,MAAK,QAAQ,OAAO;AACtC,UAAI,OAAO,OAAQ,MAAK,SAAS,OAAO;AACxC,SAAG,eAAe,IAAI;AAAA,IAC1B;AAAA,IAEQ,kBAAkB,QAA4B;AAClD,YAAM,MAAM,GAAG,OAAO,QAAQ,QAAQ,mBAAmB,OAAO,GAAG,CAAC,UAAU,mBAAmB,OAAO,KAAK,CAAC;AAC9G,YAAM,KAAK;AAAA,QACP,QAAQ,OAAO,UAAU;AAAA,QACzB,aAAa;AAAA,MACjB,CAAC,EAAE,MAAM,OAAK;AACV,eAAO,MAAM,WAAW,sBAAsB,CAAC;AAAA,MACnD,CAAC;AAAA,IACL;AAAA,IAEQ,UAAU,IAAa,OAA0C;AACrE,YAAM,SAAkC,CAAC;AACzC,iBAAW,QAAQ,OAAO;AACtB,eAAO,IAAI,IAAI,KAAK,YAAY,IAAI,IAAI;AAAA,MAC5C;AACA,aAAO;AAAA,IACX;AAAA,IAEQ,YAAY,IAAa,MAAuB;AACpD,YAAM,WAAW,KAAK,MAAM,GAAG;AAC/B,UAAI,UAAmB;AAEvB,iBAAW,WAAW,UAAU;AAC5B,YAAI,WAAW,KAAM,QAAO;AAC5B,kBAAW,QAAoC,OAAO;AAAA,MAC1D;AAEA,aAAO,KAAK,eAAe,OAAO;AAAA,IACtC;AAAA,IAEQ,WAAW,IAAa,QAAgB,MAA0B;AACtE,YAAM,KAAM,GAA0C,MAAM;AAC5D,UAAI,OAAO,OAAO,YAAY;AAC1B,cAAM,IAAI,MAAM,qBAAqB,MAAM,EAAE;AAAA,MACjD;AACA,YAAM,SAAS,GAAG,MAAM,IAAI,IAAI;AAChC,aAAO,KAAK,eAAe,MAAM;AAAA,IACrC;AAAA,IAEQ,eAAe,OAAyB;AAC5C,UAAI,UAAU,QAAQ,UAAU,OAAW,QAAO;AAElD,YAAM,OAAO,OAAO;AACpB,UAAI,SAAS,YAAY,SAAS,YAAY,SAAS,UAAW,QAAO;AAEzE,UAAI,MAAM,QAAQ,KAAK,GAAG;AACtB,eAAO,MAAM,IAAI,OAAK,KAAK,eAAe,CAAC,CAAC;AAAA,MAChD;AAEA,UAAI,iBAAiB,KAAM,QAAO,MAAM,YAAY;AACpD,UAAI,iBAAiB,aAAc,QAAO,MAAM,KAAK,KAAK;AAC1D,UAAI,iBAAiB,KAAM,QAAO;AAElC,UAAI;AACA,eAAO,KAAK,MAAM,KAAK,UAAU,KAAK,CAAC;AAAA,MAC3C,QAAQ;AACJ,eAAO;AAAA,MACX;AAAA,IACJ;AAAA,IAEQ,gBAAgB,IAAY,QAAkC,QAAkB,OAAsB;AAC1G,YAAM,WAAwB;AAAA,QAC1B,GAAG;AAAA,QACH,KAAK,KAAK;AAAA,QACV;AAAA,MACJ;AAEA,UAAI,WAAW,OAAW,UAAS,SAAS;AAC5C,UAAI,WAAW,OAAW,UAAS,SAAS;AAC5C,UAAI,UAAU,OAAW,UAAS,QAAQ;AAE1C,WAAK,cAAc,QAAQ;AAAA,IAC/B;AAAA,EACJ;;;AChNA,MAAAC,4BAA2B;AAyBpB,MAAM,UAAN,MAAc;AAAA,IAYjB,YAAY,QAAuB;AAXnC,WAAQ,iBAAiB;AAOzB,WAAiB,OAAO,oBAAI,IAAqB;AAEjD,WAAQ,OAAO;AAGX,WAAK,YAAY,OAAO;AAExB,aAAO,UAAU,EAAC,SAAS,OAAO,SAAS,OAAO,OAAO,QAAO,CAAC;AAEjE,YAAM,aAAa,CAAC,UAAkB,KAAK,KAAK,IAAI,KAAK;AAEzD,WAAK,YAAY,IAAI,UAAU;AAAA,QAC3B,UAAU,OAAO;AAAA,QACjB,WAAW,OAAO;AAAA,QAClB,SAAS,OAAO;AAAA,QAChB,KAAK,OAAO;AAAA,QACZ,UAAU,OAAO;AAAA,MACrB,CAAC;AAED,WAAK,UAAU,IAAI,QAAQ,OAAO,MAAM;AAAA,QACpC,SAAS,CAAC,QAAQ,SAAS,SAAS,KAAK,YAAY,SAAS,IAAI;AAAA,QAClE,OAAO,CAAC,OAAO,OAAO,KAAK,KAAK,IAAI,OAAO,EAAE;AAAA,QAC7C,aAAa,CAAC,UAAU,KAAK,KAAK,OAAO,KAAK;AAAA,QAC9C,UAAU,CAAC,SAAS,KAAK,kBAAkB,IAAI;AAAA,QAC/C,UAAU,CAAC,MAAM,UAAU,KAAK,aAAa,MAAM,KAAK;AAAA,MAC5D,CAAC;AAED,WAAK,SAAS,IAAI,OAAO,CAAC,MAAM,MAAM,OAAO,SAAS;AAClD,aAAK,QAAQ,MAAM,MAAM,OAAO,IAAI;AAAA,MACxC,CAAC;AAED,WAAK,WAAW,IAAI,SAAS;AAAA,QACzB,UAAU,OAAO;AAAA,QACjB,WAAW,OAAO;AAAA,QAClB,WAAW,CAAC,QAAQ,KAAK,UAAU,KAAK,GAAG;AAAA,MAC/C,CAAC;AAED,WAAK,UAAU,IAAI,eAAe;AAAA,QAC9B,WAAW,OAAO;AAAA,QAClB;AAAA,QACA,eAAe,CAAC,QAAQ,KAAK,UAAU,KAAK,GAAG;AAAA,MACnD,CAAC;AAED,WAAK,UAAU,UAAU,CAAC,QAAQ,KAAK,cAAc,GAAG,CAAC;AACzD,WAAK,UAAU,cAAc,CAAC,UAAU,KAAK,kBAAkB,KAAK,CAAC;AAAA,IACzE;AAAA,IAEA,UAAgB;AACZ,WAAK,UAAU,QAAQ;AACvB,aAAO,KAAK,WAAW,WAAW;AAAA,IACtC;AAAA,IAEA,aAAmB;AACf,WAAK,UAAU,WAAW;AAC1B,aAAO,KAAK,WAAW,cAAc;AAAA,IACzC;AAAA,IAEA,YAAqB;AACjB,aAAO,KAAK;AAAA,IAChB;AAAA,IAEQ,cAAc,KAA0B;AAC5C,aAAO,MAAM,WAAW,YAAY,IAAI,CAAC;AAEzC,cAAQ,IAAI,GAAG;AAAA,QACX,KAAK;AACD,eAAK,WAAW,GAAG;AACnB;AAAA,QACJ,KAAK;AACD,eAAK,WAAW,GAAG;AACnB;AAAA,QACJ,KAAK;AACD,eAAK,YAAY,GAAG;AACpB;AAAA,QACJ,KAAK;AACD,eAAK,eAAe,GAAG;AACvB;AAAA,QACJ,KAAK;AACD,eAAK,iBAAiB,GAAG;AACzB;AAAA,QACJ,KAAK;AACD;AAAA,QACJ,KAAK;AACD,iBAAO,MAAM,WAAW,gBAAgB,IAAI,MAAM,IAAI,OAAO;AAC7D;AAAA,QACJ,KAAK;AACD,iBAAO,KAAK,WAAW,cAAc,IAAI,MAAM,IAAI,OAAO;AAC1D;AAAA,MACR;AAAA,IACJ;AAAA,IAEA,WAAWC,OAAkB;AACzB,aAAO,KAAK,WAAW,iBAAiB,EAAC,KAAKA,MAAK,KAAK,KAAKA,MAAK,KAAK,SAASA,MAAK,OAAO,UAAU,EAAC,CAAC;AACxG,UAAIA,MAAK,SAASA,MAAK,MAAM,SAAS,GAAG;AACrC,aAAK,QAAQ,MAAMA,MAAK,KAAK;AAAA,MACjC;AAEA,WAAK,QAAQA,MAAK,GAAG;AAAA,IACzB;AAAA,IAEQ,WAAW,MAAkB;AACjC,aAAO,KAAK,WAAW,iBAAiB,EAAC,KAAK,KAAK,KAAK,KAAK,KAAK,IAAG,CAAC;AACtE,WAAK,QAAQ,KAAK,GAAG;AAAA,IACzB;AAAA,IAEQ,YAAY,OAAoB;AACpC,aAAO,MAAM,WAAW,SAAS,EAAC,KAAK,MAAM,KAAK,KAAK,MAAM,OAAO,UAAU,EAAC,CAAC;AAEhF,UAAI,MAAM,SAAS,MAAM,MAAM,SAAS,GAAG;AACvC,aAAK,QAAQ,MAAM,MAAM,KAAK;AAAA,MAClC;AAEA,UAAI,MAAM,WAAW,MAAM,QAAQ,SAAS,GAAG;AAC3C,aAAK,QAAQ,QAAQ,MAAM,OAAmB;AAAA,MAClD;AAEA,UAAI,MAAM,KAAK;AACX,aAAK,gBAAgB,MAAM,GAAG;AAAA,MAClC;AAEA,WAAK,QAAQ,MAAM,GAAG;AAAA,IAC1B;AAAA,IAEQ,eAAe,QAAwB;AAC3C,aAAO,KAAK,WAAW,aAAa,EAAC,MAAM,OAAO,MAAM,IAAI,OAAO,GAAE,CAAC;AAAA,IAC1E;AAAA,IAEQ,iBAAiB,KAAuB;AAC5C,WAAK,QAAQ,iBAAiB,GAAG;AAAA,IACrC;AAAA,IAEQ,gBAAgB,KAAgE;AACpF,UAAI,IAAI,MAAM;AACV,eAAO,QAAQ,UAAU,CAAC,GAAG,IAAI,IAAI,IAAI;AAAA,MAC7C,WAAW,IAAI,SAAS;AACpB,eAAO,QAAQ,aAAa,CAAC,GAAG,IAAI,IAAI,OAAO;AAAA,MACnD,WAAW,IAAI,MAAM;AACjB,eAAO,QAAQ,KAAK;AAAA,MACxB;AAAA,IACJ;AAAA,IAEQ,YAAY,SAAiB,MAAqB;AACtD,YAAM,QAAqB;AAAA,QACvB,GAAG;AAAA,QACH,KAAK,KAAK;AAAA,QACV,KAAK;AAAA,QACL,MAAM,EAAE,KAAK;AAAA,QACb,SAAU,QAAoC,CAAC;AAAA,MACnD;AACA,WAAK,UAAU,KAAK,KAAK;AACzB,aAAO,MAAM,WAAW,cAAc,OAAO;AAAA,IACjD;AAAA,IAEQ,kBAAkB,MAAwB;AAC9C,WAAK,OAAO,SAAS,IAAI;AAAA,IAC7B;AAAA,IAEQ,aAAa,MAAkB,OAAuB;AAC1D,WAAK,SAAS,OAAO,MAAM,KAAK;AAAA,IACpC;AAAA,IAEQ,QAAQ,MAAqB,MAAc,OAAe,MAAoB;AAClF,YAAM,MAAkB,EAAC,GAAG,MAAM,KAAK,KAAK,WAAW,MAAM,GAAG,OAAO,KAAI;AAC3E,WAAK,UAAU,KAAK,GAAG;AACvB,aAAO,MAAM,WAAW,YAAY,MAAM,IAAI;AAAA,IAClD;AAAA,IAEQ,QAAQ,KAAmB;AAC/B,WAAK,UAAU,KAAK,EAAC,GAAG,OAAO,KAAK,KAAK,WAAW,IAAG,CAAC;AAAA,IAC5D;AAAA,IAEQ,kBAAkB,OAA2B;AACjD,aAAO,MAAM,WAAW,iBAAiB,KAAK;AAC9C,UAAI,UAAU,uCAAa,WAAW,UAAU,uCAAa,QAAQ;AACjE,aAAK,iBAAiB;AAAA,MAC1B;AAAA,IACJ;AAAA,EACJ;AAEO,WAAS,OAAuB;AACnC,QAAI,OAAO,WAAW,YAAa,QAAO;AAE1C,UAAM,SAAS,SAAS,eAAe,WAAW;AAClD,QAAI,WAAwB;AAE5B,QAAI,QAAQ,aAAa;AACrB,UAAI;AACA,mBAAW,KAAK,MAAM,OAAO,WAAW;AAAA,MAC5C,SAAS,GAAG;AACR,eAAO,MAAM,WAAW,gCAAgC,CAAC;AAAA,MAC7D;AAAA,IACJ;AAEA,QAAI,CAAC,UAAU;AACX,iBAAY,OAAiD,mBAAmB;AAAA,IACpF;AAEA,QAAI,CAAC,UAAU;AACX,aAAO,MAAM,WAAW,uBAAuB;AAC/C,aAAO;AAAA,IACX;AAEA,UAAM,SAAwB;AAAA,MAC1B,MAAM,SAAS;AAAA,MACf,WAAW,SAAS;AAAA,MACpB,SAAS,SAAS;AAAA,MAClB,KAAK,SAAS;AAAA,MACd,UAAU,SAAS,QAAQ,YAAY;AAAA,MACvC,gBAAgB,SAAS,QAAQ,UAAU;AAAA,MAC3C,UAAU,SAAS;AAAA,MACnB,OAAO,SAAS,QAAQ;AAAA,IAC5B;AAEA,UAAM,UAAU,IAAI,QAAQ,MAAM;AAClC,YAAQ,WAAW,QAAQ;AAC3B,YAAQ,QAAQ;AAChB,WAAO;AAAA,EACX;;;AP9PA,MAAI,OAAO,WAAW,aAAa;AAC/B,WAAO,iBAAiB,oBAAoB,MAAM;AAC9C,YAAM,UAAU,KAAK;AACrB,UAAI,SAAS;AACT,QAAC,OAAe,aAAa;AAAA,MACjC;AAAA,IACJ,CAAC;AAAA,EACL;",
  "names": ["exports", "PresenceEventTypes", "ServerActions", "ClientActions", "ChannelState", "ErrorTypes", "SystemSender", "ChannelReceiver", "Events", "PubSubEvents", "exports", "exports", "message", "_Channel_emptyQueue", "_Channel_init", "_Channel_onMessage", "_Channel_publish", "_Channel_subscribeToPresence", "PondClient", "_PondClient_createPublisher", "_PondClient_handleAcknowledge", "_PondClient_init", "WebSocket", "PondClient", "PondClient", "import_pondsocket_client", "boot"]
}
